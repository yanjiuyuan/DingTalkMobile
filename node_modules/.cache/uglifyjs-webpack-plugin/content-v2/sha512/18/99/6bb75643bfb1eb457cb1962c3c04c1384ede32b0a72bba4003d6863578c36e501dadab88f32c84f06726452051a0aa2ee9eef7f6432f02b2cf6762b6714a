{"code":"!function(a){var o={};function r(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=a,r.c=o,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){\"undefined\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)r.d(a,o,function(t){return e[t]}.bind(null,o));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"/\",r(r.s=34)}([function(t,e,a){\"use strict\";e.__esModule=!0;var o,r=a(42),i=(o=r)&&o.__esModule?o:{default:o};e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t}},function(t,e){throw new Error(\"Module build failed (from E:/\\u9489\\u9489\\u5c0f\\u7a0b\\u5e8f\\u5f00\\u53d1\\u5de5\\u5177/\\u5c0f\\u7a0b\\u5e8f\\u5f00\\u53d1\\u8005\\u5de5\\u5177/resources/app/vol_modules.asar/node_modules/babel-loader/lib/index.js):\\nError: EEXIST: file already exists, mkdir 'C:\\\\Users\\\\ADMINI~1\\\\AppData\\\\Local\\\\Temp\\\\.cache\\\\babel-loader-from-tea\\\\DingTalkMobile'\")},function(t,e,a){\"use strict\";e.__esModule=!0;var o,r=a(56),i=(o=r)&&o.__esModule?o:{default:o};e.default=function(t,e,a){return e in t?(0,i.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},function(t,e,a){var o=a(28)(\"wks\"),r=a(30),i=a(6).Symbol,n=\"function\"==typeof i;(t.exports=function(t){return o[t]||(o[t]=n&&i[t]||(n?i:r)(\"Symbol.\"+t))}).store=o},function(t,e){var a=t.exports={version:\"2.6.9\"};\"number\"==typeof __e&&(__e=a)},function(t,e,a){t.exports=!a(13)(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})},function(t,e){var a=t.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=a)},function(t,e,a){var o=a(10),r=a(46),i=a(47),n=Object.defineProperty;e.f=a(5)?Object.defineProperty:function(t,e,a){if(o(t),e=i(e,!0),o(a),r)try{return n(t,e,a)}catch(t){}if(\"get\"in a||\"set\"in a)throw TypeError(\"Accessors not supported!\");return\"value\"in a&&(t[e]=a.value),t}},function(t,e,a){var g=a(6),m=a(4),b=a(21),v=a(9),y=a(11),w=\"prototype\",D=function(t,e,a){var o,r,i,n=t&D.F,l=t&D.G,s=t&D.S,d=t&D.P,u=t&D.B,c=t&D.W,h=l?m:m[e]||(m[e]={}),f=h[w],p=l?g:s?g[e]:(g[e]||{})[w];for(o in l&&(a=e),a)(r=!n&&p&&void 0!==p[o])&&y(h,o)||(i=r?p[o]:a[o],h[o]=l&&\"function\"!=typeof p[o]?a[o]:u&&r?b(i,g):c&&p[o]==i?function(o){function t(t,e,a){if(this instanceof o){switch(arguments.length){case 0:return new o;case 1:return new o(t);case 2:return new o(t,e)}return new o(t,e,a)}return o.apply(this,arguments)}return t[w]=o[w],t}(i):d&&\"function\"==typeof i?b(Function.call,i):i,d&&((h.virtual||(h.virtual={}))[o]=i,t&D.R&&f&&!f[o]&&v(f,o,i)))};D.F=1,D.G=2,D.S=4,D.P=8,D.B=16,D.W=32,D.U=64,D.R=128,t.exports=D},function(t,e,a){var o=a(7),r=a(14);t.exports=a(5)?function(t,e,a){return o.f(t,e,r(1,a))}:function(t,e,a){return t[e]=a,t}},function(t,e,a){var o=a(12);t.exports=function(t){if(!o(t))throw TypeError(t+\" is not an object!\");return t}},function(t,e){var a={}.hasOwnProperty;t.exports=function(t,e){return a.call(t,e)}},function(t,e){t.exports=function(t){return\"object\"===typeof t?null!==t:\"function\"===typeof t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError(\"Can't call method on  \"+t);return t}},function(t,e){var a=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:a)(t)}},function(t,e,a){var o=a(28)(\"keys\"),r=a(30);t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e,a){var o=a(15);t.exports=function(t){return Object(o(t))}},function(t,e){t.exports={}},function(t,e,a){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var l=\"http://17e245o364.imwork.net:49415/\";function n(t){return t?t.error&&0!=t.error.errorCode?(dd.alert({content:t.error.errorMessage}),1):0:1}var o=new Date,r=o.getFullYear(),i=o.getMonth()+1,s=o.getDate(),d=o.getHours(),u=o.getMinutes();function c(){}function h(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,o=t.getDate(),r=t.getHours(),i=t.getMinutes(),n=t.getSeconds();return a<10&&(a=\"0\"+a),o<10&&(o=\"0\"+o),r<10&&(r=\"0\"+r),i<10&&(i=\"0\"+i),n<10&&(n=\"0\"+n),e+\"-\"+a+\"-\"+o+\" \"+r+\":\"+i+\":\"+n}e.default={data:{jinDomarn:\"http://wuliao5222.55555.io:35705/api/\",dormainName:l,currentPage:1,totalRows:0,pageSize:5,Year:r,Month:i,Day:s,DateStr:function(t,e){e=e||\"-\";var a=new Date(t),o=a.getFullYear(),r=a.getMonth()+1,i=a.getDate();r<10&&(r=\"0\"+r);i<10&&(i=\"0\"+i);return o+e+r+e+i}(o),TimeStr:d+\":\"+u},func:{checkLogin:function(){},goHome:function(){console.log(\"welCome ~\")},goError:function(){},_getData:function(a,o,t){var r=arguments.length>2&&void 0!==t?t:{};dd.httpRequest({url:l+a,method:\"GET\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded; charset=utf-8\"},success:function(t){var e=getApp();e.userInfo&&(r=e.userInfo),console.log(a),console.log(t),n(t.data)?c(\"GET\",a,t.data.error,r):o(t.data.data)},fail:function(t){\"{}\"!=JSON.stringify(t)&&(c(\"GET\",a,t,r),dd.alert({content:\"\\u83b7\\u53d6\\u6570\\u636e\\u5931\\u8d25-\"+a+\"\\u62a5\\u9519:\"+JSON.stringify(t)}))}})},_postData:function(a,o,r,t){var i=arguments.length>3&&void 0!==t?t:{};dd.httpRequest({url:l+a,method:\"POST\",data:JSON.stringify(r),headers:{\"Content-Type\":\"application/json; charset=utf-8\",Accept:\"application/json\"},success:function(t){var e=getApp();e.userInfo&&(i=e.userInfo),console.log(a),console.log(r),console.log(t),n(t.data)?c(\"GET\",a,t.data.error,i):o(t.data.data)},fail:function(t){console.log(\"\\u5728\\u9519\\u8bef\\u91cc\\u9762~~~~~~~~~~~\"),\"{}\"!=JSON.stringify(t)&&(c(\"GET\",a,t,i),dd.alert({content:\"\\u83b7\\u53d6\\u6570\\u636e\\u5931\\u8d25-\"+a+\"\\u62a5\\u9519:\"+JSON.stringify(t)}))}})},requestData:function(e,a,o,t,r){var i=arguments.length>3&&void 0!==t?t:{};dd.httpRequest({url:l+a,method:e,data:i,headers:{\"Content-Type\":\"application/x-www-form-urlencoded; charset=utf-8\"},success:function(t){console.log(a),\"POST\"!=e&&\"post\"!=e||console.log(i),console.log(t),o(t)},fail:function(t){\"{}\"!=JSON.stringify(t)&&dd.alert({content:\"\\u83b7\\u53d6\\u6570\\u636e\\u5931\\u8d25-\"+a+\"\\u62a5\\u9519:\"+JSON.stringify(t)})},complete:function(t){}})},requestJsonData:function(e,a,o,t,r){var i=arguments.length>3&&void 0!==t?t:{};dd.httpRequest({url:l+a,method:e,data:i,headers:{\"Content-Type\":\"application/json; charset=utf-8\",Accept:\"application/json\"},success:function(t){console.log(a),\"POST\"!=e&&\"post\"!=e||console.log(i),console.log(t),o(t)},fail:function(t){dd.alert({content:\"\\u83b7\\u53d6\\u6570\\u636e\\u5931\\u8d25-\"+a+\"\\u62a5\\u9519:\"+JSON.stringify(t)})},complete:function(t){}})},requestNofailData:function(e,a,o,t,r){var i=arguments.length>3&&void 0!==t?t:{},n=r;dd.httpRequest({url:l+a,method:e,data:i,headers:{\"Content-Type\":\"application/json; charset=utf-8\",Accept:\"application/json\"},success:function(t){console.log(a),\"POST\"!=e&&\"post\"!=e||console.log(i),console.log(t),0!=t.data.error.errorCode&&c(e,a,i,{Message:t.data.Message,error:t.error},n),o(t)},complete:function(t){t&&t.error&&(dd.alert({content:\"\\u7cfb\\u7edf\\u6b63\\u5728\\u7ef4\\u62a4\\uff0c\\u8bf7\\u8054\\u7cfb\\u7ba1\\u7406\\u5458~~~~~~~~~~~~~\"}),console.log(\"complete\\u5904\\u7406\\u9519\\u8bef~~~~~~~~~~~~~~~~~~~~~~\"),console.log(n),console.log(t.data),c(e,a,i,{Message:t.data.Message,error:t.error},n))}})},mergeObjectArr:function(t,e,a){for(var o=0;o<t.length;o++)for(var r=0;r<e.length;r++)if(t[o][a]==e[r][a])for(var i in e[r])t[o][i]=e[r][i];return t},formatQueryStr:function(t){var e=\"?\";for(var a in t)e=e+a+\"=\"+encodeURI(t[a])+\"&\";return e.substring(0,e.length-1)},_formatQueryStr:function(t){var e=\"?\";for(var a in t)e=e+a+\"=\"+t[a]+\"&\";return e.substring(0,e.length-1)},_getTime:function(){return h()},_computeDurTime:function(t,e,a){var o=e.getTime()-t.getTime(),r=Math.floor(o/864e5),i=Math.floor(o/36e5),n=Math.floor(o/6e4),l=Math.floor(o/1e3);switch(a){case\"d\":return r;case\"h\":return i;case\"m\":return n;default:return l}}}},t.exports=e.default},function(t,e,a){var i=a(45);t.exports=function(o,r,t){if(i(o),void 0===r)return o;switch(t){case 1:return function(t){return o.call(r,t)};case 2:return function(t,e){return o.call(r,t,e)};case 3:return function(t,e,a){return o.call(r,t,e,a)}}return function(){return o.apply(r,arguments)}}},function(t,e,a){var o=a(12),r=a(6).document,i=o(r)&&o(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},function(t,e,a){var o=a(49),r=a(31);t.exports=Object.keys||function(t){return o(t,r)}},function(t,e,a){var o=a(25),r=a(15);t.exports=function(t){return o(r(t))}},function(t,e,a){var o=a(26);t.exports=Object(\"z\").propertyIsEnumerable(0)?Object:function(t){return\"String\"==o(t)?t.split(\"\"):Object(t)}},function(t,e){var a={}.toString;t.exports=function(t){return a.call(t).slice(8,-1)}},function(t,e,a){var o=a(16),r=Math.min;t.exports=function(t){return t>0?r(o(t),9007199254740991):0}},function(t,e,a){var o=a(4),r=a(6),i=\"__core-js_shared__\",n=r[i]||(r[i]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})(\"versions\",[]).push({version:o.version,mode:a(29)?\"pure\":\"global\",copyright:\"\\xa9 2019 Denis Pushkarev (zloirock.ru)\"})},function(t,e){t.exports=!0},function(t,e){var a=0,o=Math.random();t.exports=function(t){return\"Symbol(\".concat(void 0===t?\"\":t,\")_\",(++a+o).toString(36))}},function(t,e){t.exports=\"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf\".split(\",\")},function(t,e,a){var o=a(7).f,r=a(11),i=a(3)(\"toStringTag\");t.exports=function(t,e,a){t&&!r(t=a?t:t.prototype,i)&&o(t,i,{configurable:!0,value:e})}},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approveDetail/maintain/maintain\",usingComponents:{}},Page((0,o.default)({},r.default.func,r.default.func.dowith,{data:(0,o.default)({},r.default.data,{hidden:!0,tableItems:[{prop:\"CodeNo\",label:\"\\u7269\\u6599\\u7f16\\u7801\",width:200},{prop:\"Name\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:300},{prop:\"Standard\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"Unit\",label:\"\\u5355\\u4f4d\",width:100},{prop:\"Price\",label:\"\\u5355\\u4ef7(\\u9884\\u8ba1)\",width:200},{prop:\"Count\",label:\"\\u6570\\u91cf\",width:100},{prop:\"MaintainContent\",label:\"\\u7ef4\\u4fee\\u5185\\u5bb9\",width:300},{prop:\"NeedTime\",label:\"\\u9700\\u7528\\u65f6\\u95f4\",width:200},{prop:\"Mark\",label:\"\\u5907\\u6ce8\",width:300}]}),submit:function(t){var e=t.detail.value,a={Title:e.title,Remark:e.remark};this.aggreSubmit(a)},print:function(){this._postData(\"Maintain/PrintPDF\",function(t){dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\"})},{UserId:this.data.DingData.userid,TaskId:this.data.taskid})},output:function(){this._postData(\"Maintain/PrintExcel\",function(t){dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\"})},{UserId:this.data.DingData.userid,TaskId:this.data.taskid})}}))},function(t,e,a){t.exports=a(35)},function(module,exports,__webpack_require__){\"use strict\";\n/*BUGME_START*/var __BUGME_START__=1;!function(){var CircularJSON=JSON,originalAddEventListener=self&&self.addEventListener,replacer=function(t,e){return void 0===e?\"\\xa9undefined\":null===e?\"\\xa9null\":e===-1/0?\"\\xa9- Infinity\":e===1/0?\"\\xa9Infinity\":\"number\"==typeof e&&isNaN(e)?\"\\xa9NaN\":\"function\"==typeof e?\"\\xa9function\":e};try{CircularJSON=eval('(function(JSON,RegExp){var specialChar=\"~\",safeSpecialChar=\"\\\\\\\\x\"+(\"0\"+specialChar.charCodeAt(0).toString(16)).slice(-2),escapedSafeSpecialChar=\"\\\\\\\\\"+safeSpecialChar,specialCharRG=new RegExp(safeSpecialChar,\"g\"),safeSpecialCharRG=new RegExp(escapedSafeSpecialChar,\"g\"),safeStartWithSpecialCharRG=new RegExp(\"(?:^|([^\\\\\\\\\\\\\\\\]))\"+escapedSafeSpecialChar),indexOf=[].indexOf||function(v){for(var i=this.length;i--&&this[i]!==v;);return i},$String=String;function generateReplacer(value,replacer,resolve){var doNotIgnore=false,inspect=!!replacer,path=[],all=[value],seen=[value],mapp=[resolve?specialChar:\"[Circular]\"],last=value,lvl=1,i,fn;if(inspect){fn=typeof replacer===\"object\"?function(key,value){return key!==\"\"&&replacer.indexOf(key)<0?void 0:value}:replacer}return function(key,value){if(inspect)value=fn.call(this,key,value);if(doNotIgnore){if(last!==this){i=lvl-indexOf.call(all,this)-1;lvl-=i;all.splice(lvl,all.length);path.splice(lvl-1,path.length);last=this}if(typeof value===\"object\"&&value){if(indexOf.call(all,value)<0){all.push(last=value)}lvl=all.length;i=indexOf.call(seen,value);if(i<0){i=seen.push(value)-1;if(resolve){path.push((\"\"+key).replace(specialCharRG,safeSpecialChar));mapp[i]=specialChar+path.join(specialChar)}else{mapp[i]=mapp[0]}}else{value=mapp[i]}}else{if(typeof value===\"string\"&&resolve){value=value.replace(safeSpecialChar,escapedSafeSpecialChar).replace(specialChar,safeSpecialChar)}}}else{doNotIgnore=true}return value}}function retrieveFromPath(current,keys){for(var i=0,length=keys.length;i<length;current=current[keys[i++].replace(safeSpecialCharRG,specialChar)]);return current}function generateReviver(reviver){return function(key,value){var isString=typeof value===\"string\";if(isString&&value.charAt(0)===specialChar){return new $String(value.slice(1))}if(key===\"\")value=regenerate(value,value,{});if(isString)value=value.replace(safeStartWithSpecialCharRG,\"$1\"+specialChar).replace(escapedSafeSpecialChar,safeSpecialChar);return reviver?reviver.call(this,key,value):value}}function regenerateArray(root,current,retrieve){for(var i=0,length=current.length;i<length;i++){current[i]=regenerate(root,current[i],retrieve)}return current}function regenerateObject(root,current,retrieve){for(var key in current){if(current.hasOwnProperty(key)){current[key]=regenerate(root,current[key],retrieve)}}return current}function regenerate(root,current,retrieve){return current instanceof Array?regenerateArray(root,current,retrieve):current instanceof $String?current.length?retrieve.hasOwnProperty(current)?retrieve[current]:retrieve[current]=retrieveFromPath(root,current.split(specialChar)):root:current instanceof Object?regenerateObject(root,current,retrieve):current}var CircularJSON={stringify:function stringify(value,replacer,space,doNotResolve){return CircularJSON.parser.stringify(value,generateReplacer(value,replacer,!doNotResolve),space)},parse:function parse(text,reviver){return CircularJSON.parser.parse(text,generateReviver(reviver))},parser:JSON};return CircularJSON})(JSON,RegExp)')}catch(t){console.error(t)}var OriginalFunction=Function,OriginalFetch=self.fetch,OriginalBridgeCall=self.AlipayJSBridge&&self.AlipayJSBridge.call,callInternalAPI=function(t,e){var a={data:{method:t,param:e},action:\"internalAPI\"},o=encodeURIComponent(JSON.stringify(a));OriginalFetch?OriginalFetch(\"https://alipay.kylinBridge/?data=\"+o,{mode:\"no-cors\"}).then(function(){}).catch(function(){}):OriginalBridgeCall&&OriginalBridgeCall(\"internalAPI\",{method:t,param:e})},eventHandler=function(t){try{if(t.fromVConsoleToWorker){var e=t.requestId;if(\"exec\"===t.method){try{new OriginalFunction(\"requestId\",\"sendBack\",\"\\n              var res = \"+t.script+\";\\n              console.log(res);\\n            \")(e,function(t){return callInternalAPI(\"tinyDebugConsole\",{type:\"msgFromWorkerToVConsole\",content:CircularJSON.stringify({requestId:e,returnValue:t},replacer)})})}catch(t){console.error(t.name+\":\"+t.message)}}}}catch(t){}};setTimeout(function(){self.document&&self.document.addEventListener(\"push\",function(t){try{eventHandler(JSON.parse(t.data.param.content))}catch(t){}}),originalAddEventListener?originalAddEventListener(\"push\",function(t){try{var e=JSON.parse(JSON.parse(t.data.text()).param.data.content);eventHandler(e)}catch(t){}}):console.warn(\"Add push events listener failed.\")},10),[\"log\",\"info\",\"error\",\"debug\",\"warn\"].forEach(function(i){var n=\"o\"+i;console[n]||(console[n]=console[i],console[i]=function(){for(var t,e=arguments.length,a=Array(e),o=0;o<e;o++)a[o]=arguments[o];var r=void 0;(t=console)[n].apply(t,a);try{r=CircularJSON.stringify(a.map(function(t){return t instanceof Error?t.name+\": \"+t.message:t}),replacer)}catch(t){return void console.error(t.name+\": \"+t.message)}callInternalAPI(\"tinyDebugConsole\",{content:r,type:\"console_\"+i})})})}();var __BUGME_END__=1;\n/*BUGME_END*/if(!self.__appxInited){var success=function(){__webpack_require__(36),__webpack_require__(37),__webpack_require__(38),__webpack_require__(39),__webpack_require__(40),__webpack_require__(41),__webpack_require__(54),__webpack_require__(55),__webpack_require__(59),__webpack_require__(60),__webpack_require__(61),__webpack_require__(62),__webpack_require__(63),__webpack_require__(64),__webpack_require__(65),__webpack_require__(66),__webpack_require__(67),__webpack_require__(68),__webpack_require__(69),__webpack_require__(70),__webpack_require__(71),__webpack_require__(72),__webpack_require__(73),__webpack_require__(74),__webpack_require__(75),__webpack_require__(76),__webpack_require__(77),__webpack_require__(78),__webpack_require__(79),__webpack_require__(80),__webpack_require__(100),__webpack_require__(101),__webpack_require__(102),__webpack_require__(103),__webpack_require__(104),__webpack_require__(105),__webpack_require__(106),__webpack_require__(107),__webpack_require__(108),__webpack_require__(109),__webpack_require__(33),__webpack_require__(110),__webpack_require__(33),__webpack_require__(111),__webpack_require__(112),__webpack_require__(113),__webpack_require__(114),__webpack_require__(115),__webpack_require__(116),__webpack_require__(117),__webpack_require__(118),__webpack_require__(119),__webpack_require__(120),__webpack_require__(121),__webpack_require__(122)};self.__appxInited=1,__webpack_require__(123),__webpack_require__(124);var AFAppX=self.AFAppX;self.getCurrentPages=AFAppX.getCurrentPages,self.getApp=AFAppX.getApp,self.Page=AFAppX.Page,self.App=AFAppX.App,self.my=AFAppX.bridge||AFAppX.abridge,self.abridge=self.my,self.Component=AFAppX.WorkerComponent||function(){},self.$global=AFAppX.$global,self.requirePlugin=AFAppX.requirePlugin,self.bootstrapApp?self.bootstrapApp({success:success}):success()}},function(t,e,a){\"use strict\";var o,r=a(20);(o=r)&&o.__esModule;App({onLaunch:function(t){},onShow:function(){},onHide:function(){},userInfo:null,globalData:{hasLogin:!1,appId:189694580,table:{},valid:!1}})},function(t,e,a){\"use strict\";$global.currentComponentConfig={is:\"/util/table/table\",usingComponents:{}},Component({mixins:[],data:{},props:{},didMount:function(){},didUpdate:function(){},didUnmount:function(){},methods:{}})},function(t,e,a){\"use strict\";$global.currentComponentConfig={is:\"/util/table/column/column\",usingComponents:{}},Component({mixins:[],data:{tableData:[]},props:{label:\"\\u5c5e\\u6027\\u540d\",prop:\"value\",width:100},didMount:function(){getApp();this.setData({tableData:this.$page.data.tableData})},didUpdate:function(){},didUnmount:function(){},methods:{}})},function(t,e){$global.currentComponentConfig={is:\"/node_modules/mini-ddui/es/list/index\",usingComponents:{}},Component({props:{className:\"\"}})},function(t,e){$global.currentComponentConfig={is:\"/node_modules/mini-ddui/es/list/list-item/index\",usingComponents:{}},Component({props:{className:\"\",align:!1,disabled:!1,multipleLine:!1,wrap:!1},methods:{onItemTap:function(t){var e=this.props,a=e.onClick,o=e.disabled;a&&!o&&a({index:t.target.dataset.index})}}})},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/start/index\",usingComponents:{table:\"/util/table/table\",column:\"/util/table/column/column\"},tabIndex:10};getApp().globalData;var M=getApp();Page((0,o.default)({},r.default.func,{onLoad:function(){this.getMenu(),this.checkLogin2(function(){}),this.getUserInfo()},data:(0,o.default)({},r.default.data,{pageName:\"component/index\",pageInfo:{pageId:0},curIndex:0,userIndex:-1,userList:[],sort:[],sortItems:[]}),choosePeople:function(t){console.log(\"start choose people\");var r=this;dd.complexChoose((0,o.default)({},r.chooseParam,{multiple:!1,success:function(t){if(console.log(t),t.users.length>0){var e=t.users[0].name,a=t.users[0].userId,o=getApp();o.userInfo.name=e,o.userInfo.userid=a,r.setData({DingData:{nickName:e,userid:a}})}},fail:function(t){}}))},upLoadFile:function(){dd.uploadAttachmentToDingTalk({image:{multiple:!0,compress:!1,max:9,spaceId:\"12345\"},space:{spaceId:\"12345\",isCopy:1,max:9},file:{spaceId:\"12345\",max:1},types:[\"photo\",\"camera\",\"file\",\"space\"],success:function(t){console.log(t),dd.alert({content:JSON.stringify(t)})},fail:function(t){dd.alert({content:JSON.stringify(t)})}})},selectUser:function(t){var e=t.detail.value,a=this.data.userList[e].NodePeople,o=this.data.userList[e].PeopleId,r=getApp();r.userInfo.name=a,r.userInfo.userid=o,this.setData({DingData:{nickName:a,userid:o},userIndex:t.detail.value})},getUserInfo:function(){var e=this;this._getData(\"FlowInfoNew/GetUserInfo\",function(t){e.setData({userList:t})})},getMenu:function(){var N=this;this._getData(\"FlowInfoNew/LoadFlowSort?id=123\",function(t){var e=t;console.log(t),N.setData({sort:t});var a=[],o=[],r=!0,i=!1,n=void 0;try{for(var l,s=e[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var d=l.value,u=!0,c=!1,h=void 0;try{for(var f,p=d.flows[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var g=f.value;g.flowId=g.FlowId,g.sortName=d.SORT_NAME,g.flowName=g.FlowName,o.push(g)}}catch(t){c=!0,h=t}finally{try{!u&&p.return&&p.return()}finally{if(c)throw h}}}}catch(t){i=!0,n=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw n}}var m=N.mergeObjectArr(o,N.data.menu,\"flowId\"),b=!0,v=!1,y=void 0;try{for(var w,D=e[Symbol.iterator]();!(b=(w=D.next()).done);b=!0){var I=w.value;a.push({text:\"\\u6536\\u8d77\",class:\"dropdown-content-show\"});var P=!(I.show=!1),S=!1,T=void 0;try{for(var _,C=m[Symbol.iterator]();!(P=(_=C.next()).done);P=!0){var k=_.value;if(k.url&&k.sortId==I.Sort_ID){I.show=!0;break}}}catch(t){S=!0,T=t}finally{try{!P&&C.return&&C.return()}finally{if(S)throw T}}}}catch(t){v=!0,y=t}finally{try{!b&&D.return&&D.return()}finally{if(v)throw y}}M.globalData.sort=e,M.globalData.menu=m,M.globalData.sortItems=a,N.setData({sort:e,menu:m,sortItems:a})})},showOrClose:function(t){var e=t.target.dataset.index;if(\"\\u5c55\\u5f00\"==this.data.sortItems[e].text){var a=this.data.sortItems;a[e]={text:\"\\u6536\\u8d77\",class:\"dropdown-content-show\"},this.setData({sortItems:a})}else if(\"\\u6536\\u8d77\"===this.data.sortItems[e].text){var o=this.data.sortItems;o[e]={text:\"\\u5c55\\u5f00\",class:\"dropdown-content\"},this.setData({sortItems:o})}}}))},function(t,e,a){t.exports={default:a(43),__esModule:!0}},function(t,e,a){a(44),t.exports=a(4).Object.assign},function(t,e,a){var o=a(8);o(o.S+o.F,\"Object\",{assign:a(48)})},function(t,e){t.exports=function(t){if(\"function\"!=typeof t)throw TypeError(t+\" is not a function!\");return t}},function(t,e,a){t.exports=!a(5)&&!a(13)(function(){return 7!=Object.defineProperty(a(22)(\"div\"),\"a\",{get:function(){return 7}}).a})},function(t,e,a){var r=a(12);t.exports=function(t,e){if(!r(t))return t;var a,o;if(e&&\"function\"==typeof(a=t.toString)&&!r(o=a.call(t)))return o;if(\"function\"==typeof(a=t.valueOf)&&!r(o=a.call(t)))return o;if(!e&&\"function\"==typeof(a=t.toString)&&!r(o=a.call(t)))return o;throw TypeError(\"Can't convert object to primitive value\")}},function(t,e,a){\"use strict\";var h=a(5),f=a(23),p=a(52),g=a(53),m=a(18),b=a(25),r=Object.assign;t.exports=!r||a(13)(function(){var t={},e={},a=Symbol(),o=\"abcdefghijklmnopqrst\";return t[a]=7,o.split(\"\").forEach(function(t){e[t]=t}),7!=r({},t)[a]||Object.keys(r({},e)).join(\"\")!=o})?function(t,e){for(var a=m(t),o=arguments.length,r=1,i=p.f,n=g.f;o>r;)for(var l,s=b(arguments[r++]),d=i?f(s).concat(i(s)):f(s),u=d.length,c=0;u>c;)l=d[c++],h&&!n.call(s,l)||(a[l]=s[l]);return a}:r},function(t,e,a){var n=a(11),l=a(24),s=a(50)(!1),d=a(17)(\"IE_PROTO\");t.exports=function(t,e){var a,o=l(t),r=0,i=[];for(a in o)a!=d&&n(o,a)&&i.push(a);for(;e.length>r;)n(o,a=e[r++])&&(~s(i,a)||i.push(a));return i}},function(t,e,a){var s=a(24),d=a(27),u=a(51);t.exports=function(l){return function(t,e,a){var o,r=s(t),i=d(r.length),n=u(a,i);if(l&&e!=e){for(;i>n;)if((o=r[n++])!=o)return!0}else for(;i>n;n++)if((l||n in r)&&r[n]===e)return l||n||0;return!l&&-1}}},function(t,e,a){var o=a(16),r=Math.max,i=Math.min;t.exports=function(t,e){return(t=o(t))<0?r(t+e,0):i(t,e)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approve/approve\",usingComponents:{table:\"/util/table/table\",column:\"/util/table/column/column\",list:\"/node_modules/mini-ddui/es/list/index\",\"list-item\":\"/node_modules/mini-ddui/es/list/list-item/index\"},tabIndex:11},Page((0,o.default)({},r.default.func,{data:(0,o.default)({},r.default.data,{activeItem:0,pageIndex:1,pageCount:0,clientHeight:400,size:5,items:[{index:0,name:\"\\u5f85\\u6211\\u5ba1\\u6279\",image:\"../../image/1.png\"},{index:1,name:\"\\u6211\\u5df2\\u5ba1\\u6279\",image:\"../../image/1.png\"},{index:2,name:\"\\u6211\\u53d1\\u8d77\\u7684\",image:\"../../image/2.png\"},{index:3,name:\"\\u6284\\u9001\\u6211\\u7684\",image:\"../../image/3.png\"}],approveList:[]}),onLoad:function(t){},onShow:function(){var t=this;setTimeout(function(){t.checkLogin(function(){t.getApproveList(t.data.activeItem)})},200)},onReady:function(){var e=this;dd.getSystemInfo({success:function(t){console.log(t),e.setData({clientHeight:t.windowHeight-.14*t.windowHeight})}})},changeItem:function(t){this.data.size=5;var e=this,a=t.target.dataset.index;a!=this.data.activeItem&&(this.setData({activeItem:a}),this.checkLogin(function(){e.getApproveList(a)}))},search:function(t){var e=t.detail.value;this.getApproveList(this.data.activeItem,e.keyword)},onPullDownRefresh:function(){var t=this;this.checkLogin(function(){t.getApproveList(t.data.activeItem)}),dd.stopPullDownRefresh()},getApproveList:function(t,e){var a=this,o={Index:t,ApplyManId:a.data.DingData.userid,IsSupportMobile:!0,ageIndex:1,pageSize:this.data.size};e&&(o.Key=e),dd.showLoading({content:\"\\u83b7\\u53d6\\u5ba1\\u6279\\u5217\\u8868\\u4e2d\\uff0c\\u8bf7\\u7a0d\\u5019~\"}),a._getData(\"FlowInfoNew/GetFlowStateDetail\"+a.formatQueryStr(o),function(t){a.setData({approveList:t.slice(0,50),pageCount:Math.ceil(t.length/5)}),dd.hideLoading()})},toDetial:function(t){var e=t.target.dataset.row,a=this;console.log(e),3==this.data.activeItem?a._getData(\"FlowInfoNew/ChangeSendState\"+a.formatQueryStr({TaskId:e.TaskId,UserId:a.data.DingData.userid}),function(t){a.router(e)}):a.router(e)},router:function(t){if(t.TaskId&&t.FlowId){var e={taskid:t.TaskId,flowid:t.FlowId,nodeid:t.NodeId,id:t.Id,index:this.data.activeItem,state:t.State},a=\"\";switch(t.FlowId){case 1:a=\"/page/approveDetail/officeSupplies/officeSupplies\";break;case 6:a=\"/page/approveDetail/paper/paper\";break;case 8:a=\"/page/approveDetail/purchase/purchase\";break;case 12:a=\"/page/approveDetail/meterieCode/meterieCode\";break;case 13:a=\"/page/approveDetail/usePublicCar/usePublicCar\";break;case 14:a=\"/page/approveDetail/useCar/useCar\";break;case 18:a=\"/page/approveDetail/officePurchase/officePurchase\";break;case 24:a=\"/page/approveDetail/gift/gift\";break;case 19:a=\"/page/approveDetail/sendRead/sendRead\";break;case 26:a=\"/page/approveDetail/picking/picking\";break;case 27:a=\"/page/approveDetail/intoStorage/intoStorage\";break;case 30:a=\"/page/approveDetail/goOut/goOut\";break;case 31:a=\"/page/approveDetail/createProject/createProject\";break;case 32:a=\"/page/approveDetail/crossHelp/crossHelp\";break;case 33:a=\"/page/approveDetail/changePaper/changePaper\";break;case 34:a=\"/page/approveDetail/techonologySupply/techonologySupply\";break;case 35:a=\"/page/approveDetail/letGoodsGo/letGoodsGo\";break;case 36:a=\"/page/approveDetail/intellectualProperty/intellectualProperty\";break;case 67:a=\"/page/approveDetail/borrowThing/borrowThing\";break;case 68:a=\"/page/approveDetail/maintain/maintain\";break;case 69:a=\"/page/approveDetail/projectClosure/projectClosure\"}dd.navigateTo({url:a+this._formatQueryStr(e)})}},scroll:function(){this.data.size=this.data.size+5,this.getApproveList(this.data.activeItem)}}))},function(t,e,a){\"use strict\";var u=i(a(2)),o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/start/purchase/purchase\",usingComponents:{table:\"/util/table/table\",column:\"/util/table/column/column\"}};var c={};Page((0,o.default)({},r.default.func,r.default.func.start,{data:(0,o.default)({},r.default.data,{hidden:!0,tableOperate:\"\\u9009\\u62e9\",purchaseList:[],addPeopleNodes:[1],tableParam2:{size:100,now:1,total:0},tableOperate2:\"\\u5220\\u9664\",good:{},totalPrice:0,tableItems:[{prop:\"FNumber\",label:\"\\u7269\\u6599\\u7f16\\u7801\",width:200},{prop:\"FName\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:300},{prop:\"FModel\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"FNote\",label:\"\\u9884\\u8ba1\\u5355\\u4ef7\",width:100}],tableItems2:[{prop:\"CodeNo\",label:\"\\u7269\\u6599\\u7f16\\u7801\",width:200},{prop:\"Name\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:300},{prop:\"Standard\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"Unit\",label:\"\\u5355\\u4f4d\",width:100},{prop:\"Price\",label:\"\\u5355\\u4ef7\",width:100},{prop:\"Count\",label:\"\\u6570\\u91cf\",width:100},{prop:\"Purpose\",label:\"\\u7528\\u9014\",width:300},{prop:\"UrgentDate\",label:\"\\u9700\\u7528\\u65e5\\u671f\",width:200},{prop:\"Mark\",label:\"\\u5907\\u6ce8\",width:300}]}),search:function(t){var e=t.detail.value;if(console.log(e),e&&e.keyWord){var a=this;a.requestData(\"GET\",\"Purchase/GetICItem\"+a.formatQueryStr({Key:e.keyWord}),function(t){console.log(JSON.parse(t.data)),a.setData({\"tableParam.total\":JSON.parse(t.data).length}),a.data.data=JSON.parse(t.data),a.getData()})}},submit:function(t){var e=this,a=t.detail.value,o={Title:a.title,Remark:a.remark,ProjectName:e.data.projectList[e.data.projectIndex].ProjectName,ProjectId:e.data.projectList[e.data.projectIndex].ProjectId};if(o.ProjectId&&this.data.purchaseList.length){console.log(o),this.approvalSubmit(o,function(t){e.bindAll(t)})}else dd.alert({content:\"\\u8868\\u5355\\u586b\\u5199\\u4e0d\\u5b8c\\u6574\"})},bindAll:function(t){var e=this,a=[],o=!0,r=!1,i=void 0;try{for(var n,l=e.data.purchaseList[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value;s.TaskId=t,a.push(s)}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}e.requestJsonData(\"POST\",\"Purchase/SavePurchaseTable\",function(t){e.doneSubmit()},JSON.stringify(a))},chooseItem:function(t){t&&(console.log(t),(c=t.target.targetDataset.row)&&(this.setData({hidden:!this.data.hidden}),this.createMaskShowAnim(),this.createContentShowAnim()))},deleteItem:function(t){if(t){console.log(t);var e=t.target.targetDataset.index;!e&&0!=e||(console.log(this.data.purchaseList),this.data.purchaseList.splice(e,1),this.setData({purchaseList:this.data.purchaseList}),console.log(this.data.purchaseList))}},selectDate:function(){var e=this;dd.datePicker({currentDate:this.data.DateStr,startDate:this.data.DateStr,endDate:this.data.Year+1+\"-\"+this.data.Month+\"-\"+this.data.Day,success:function(t){e.setData({dateStr:t.date})}})},addGood:function(t){var e,a=t.detail.value;console.log(a);var o=!0,r=!1,i=void 0;try{for(var n,l=this.data.purchaseList[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){if(n.value.CodeNo==c.FNumber)return}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}if(a&&a.Unit&&a.Count&&a.UrgentDate&&a.Purpose){var s={CodeNo:c.FNumber,Name:c.FName,Standard:c.FModel,Unit:a.Unit,Price:a.Price?a.Price+\"\":\"0\",Count:a.Count,Purpose:a.Purpose,UrgentDate:a.UrgentDate,Mark:a.Mark},d=this.data.purchaseList.length;this.setData((e={},(0,u.default)(e,\"purchaseList[\"+d+\"]\",s),(0,u.default)(e,\"totalPrice\",this.data.totalPrice+s.Price*s.Count+\"\"),e)),console.log(s.Purpose),this.onModalCloseTap()}else dd.alert({content:\"\\u8868\\u5355\\u586b\\u5199\\u4e0d\\u5b8c\\u6574\"})},onModalCloseTap:function(){var t=this;this.createMaskHideAnim(),this.createContentHideAnim(),setTimeout(function(){t.setData({hidden:!0})},210)},saveTempData:function(){localStorage.setItem(\"purchase\",JSON.stringify(this.data.purchaseList)),dd.alert({content:\"\\u4fdd\\u5b58\\u6210\\u529f\"})},loadTempData:function(){var t=JSON.parse(localStorage.getItem(\"purchase\"));t&&t.length&&t.length>0&&(this.setData({purchaseList:t}),localStorage.removeItem(\"purchase\"))},onShow:function(){}}))},function(t,e,a){t.exports={default:a(57),__esModule:!0}},function(t,e,a){a(58);var o=a(4).Object;t.exports=function(t,e,a){return o.defineProperty(t,e,a)}},function(t,e,a){var o=a(8);o(o.S+o.F*!a(5),\"Object\",{defineProperty:a(7).f})},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approveDetail/purchase/purchase\",usingComponents:{table:\"/util/table/table\",column:\"/util/table/column/column\"}},Page((0,o.default)({},r.default.func,r.default.func.dowith,{data:(0,o.default)({},r.default.data,{hidden:!0,totalPrice:\"0\",tableItems:[{prop:\"CodeNo\",label:\"\\u7269\\u6599\\u7f16\\u7801\",width:200},{prop:\"Name\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:300},{prop:\"Standard\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"Unit\",label:\"\\u5355\\u4f4d\",width:100},{prop:\"Price\",label:\"\\u5355\\u4ef7(\\u9884\\u8ba1)\",width:200},{prop:\"Count\",label:\"\\u6570\\u91cf\",width:100},{prop:\"Purpose\",label:\"\\u7528\\u9014\",width:300},{prop:\"UrgentDate\",label:\"\\u9700\\u7528\\u65e5\\u671f\",width:200},{prop:\"Mark\",label:\"\\u5907\\u6ce8\",width:300}]}),submit:function(t){var e=t.detail.value,a={Title:e.title,Remark:e.remark};this.aggreSubmit(a)},output:function(){this._getData(\"api/PurchaseManage\"+this.formatQueryStr({UserId:this.data.DingData.userid,TaskId:this.data.taskid}),function(t){dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\"})})}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approveDetail/usePublicCar/usePublicCar\",usingComponents:{}},Page((0,o.default)({},r.default.func,r.default.func.dowith,{data:(0,o.default)({},r.default.data,{carName:\"\",carIndex:-1,carList:[],useTimeList:[],table:{}}),submit:function(t){var e=this,a=t.detail.value,o={Remark:a.remark};if(this.data.table.CarNumber=this.data.table.CarId,this.data.table.StartKilometres=a.StartKilometres,this.data.table.EndKilometres=a.EndKilometres,this.data.table.UseKilometres=(a.EndKilometres-0-(a.StartKilometres-0)).toFixed(1),console.log(\"ssssss\"),console.log(this.data.table.UseKilometres),a.StartKilometres&&a.EndKilometres||3!=this.data.nodeid&&4!=this.data.nodeid){if(2==this.data.nodeid){if(!this.data.table.CarId)return;if(!this.data.carList[this.data.carIndex])return void dd.alert({content:\"\\u8868\\u5355\\u586b\\u5199\\u672a\\u5b8c\\u6574\"});o.Title=this.data.tableInfo.Title+\"-\"+this.data.carList[this.data.carIndex].Name}this.setData({disablePage:!0}),this.requestData(\"POST\",\"CarTableNew/TableModify\",function(t){e.aggreSubmit(o)},this.data.table)}else dd.alert({content:\"\\u8868\\u5355\\u672a\\u586b\\u5199\\u5b8c\\u6574\"})},print:function(){this._postData(\"CarTableNew/GetPrintPDF\",function(t){dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\\uff0c\\u8bf7\\u5728\\u9489\\u9489PC\\u7aef\\u67e5\\u6536\"})},{UserId:this.data.DingData.userid,TaskId:this.data.taskid,IsPublic:!0})},selectCar:function(t){var e=this.data.carList[t.detail.value];if(this.setData({useTimeList:[]}),console.log(e),this.data.table.CarId=e.Id,this.data.table.Name=e.Name,this.data.table.CarNumber=e.CarNumber,this.data.table.OccupyCarId=e.OccupyCarId,this.data.table.IsOccupyCar=e.IsOccupyCar,this.setData({carIndex:t.detail.value,carName:e.Name+\" - \"+e.CarNumber}),e.UseMan){for(var a=[],o=e.UseMan.split(\",\"),r=e.UseTimes.split(\",\"),i=0;i<o.length;i++)e.IsOccupyCar&&a.push({name:o[i],time:r[i]});this.setData({useTimeList:a}),console.log(this.data.useTimeList)}},reApproval:function(){this.data.localStorage=JSON.stringify({valid:!0,flowid:this.data.flowid,title:this.data.tableInfo.Title,table:this.data.table});var t=!0,e=!1,a=void 0;try{for(var o,r=this.data.menu[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var i=o.value;i.flowId==this.data.flowid&&dd.redirectTo({url:\"/page/start/\"+i.url+\"?flowid=\"+i.flowId})}}catch(t){e=!0,a=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw a}}},onReady:function(){var e=this,d=this;this._getData(\"CarTableNew/TableQuary\"+this.formatQueryStr({TaskId:this.data.taskid}),function(t){var s=t[0];s.FactTravelWay||(s.FactTravelWay=s.PlantTravelWay),s.PeerNumber||(s.PeerNumber=\"\"),console.log(s),e.setData({table:s}),d._getData(\"CarMananger/QuaryByTimeNew\"+d.formatQueryStr({startTime:s.StartTime,endTime:s.EndTime}),function(t){var e=!0,a=!1,o=void 0;try{for(var r,i=t[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var n=r.value;n.text=n.Name+\" - \"+n.CarNumber,n.Id==s.CarId&&d.setData({carName:n.Name+\" - \"+n.CarNumber,\"table.Name\":n.Name})}}catch(t){a=!0,o=t}finally{try{!e&&i.return&&i.return()}finally{if(a)throw o}}if(!d.data.table.CarId){var l=t[0];d.data.table.CarId=l.Id,d.data.table.Name=l.Name,d.data.table.OccupyCarId=l.OccupyCarId,d.data.table.IsOccupyCar=l.IsOccupyCar}d.setData({carList:t})})})}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/start/usePublicCar/usePublicCar\",usingComponents:{table:\"/util/table/table\",column:\"/util/table/column/column\"}};Page((0,o.default)({},r.default.func,r.default.func.start,{data:(0,o.default)({},r.default.data,{disablePage:!0,checked:!1,checked2:!1,items:[{name:\"\\u672c\\u4eba\\u540c\\u610f\\u300a\\u7814\\u7a76\\u9662\\u8f66\\u8f86\\u5b89\\u5168\\u4f7f\\u7528\\u534f\\u8bae\\u300b\"}],items2:[{name:\"\\u672c\\u4eba\\u5df2\\u7ecf\\u63d0\\u4ea4\\u5916\\u51fa\\u7533\\u8bf7\"}]}),submit:function(t){if(\"0907095238746571\"!=this.data.nodeList[1].AddPeople[0].userId){var e=this,a=t.detail.value;if(a.CarId=\"\",a.IsChooseOccupyCar=!0,a.IsPublicCar=!0,a.OccupyCarId=\"\",a.PeerNumber=this.data.table.PeerNumber||\"\",console.log(a),a.DrivingMan&&a.MainContent&&a.PlantTravelWay&&a.StartTime&&a.EndTime){this.approvalSubmit(a,function(t){console.log(\"\\u63d0\\u4ea4\\u5ba1\\u6279ok!\"),a.TaskId=t,e._postData(\"CarTableNew/TableSave\",function(t){e.doneSubmit()},a)},{Title:a.Title})}else dd.alert({content:\"\\u8868\\u5355\\u672a\\u586b\\u5199\\u5b8c\\u6574\"})}else dd.alert({content:\"\\u7528\\u8f66\\u65e0\\u9700\\u5b63\\u8001\\u5e08\\u5ba1\\u6279,\\u5982\\u662f\\u90e8\\u957f\\u7ea7\\u8bf7\\u9009\\u672c\\u4eba\"})},choosePeoples:function(t){console.log(\"start choose people\");t.target.targetDataset.NodeId;var s=this;dd.complexChoose((0,o.default)({},s.chooseParam,{multiple:!0,success:function(t){console.log(t);var e=[],a=!0,o=!1,r=void 0;try{for(var i,n=t.users[Symbol.iterator]();!(a=(i=n.next()).done);a=!0){var l=i.value;e.push(l.name)}}catch(t){o=!0,r=t}finally{try{!a&&n.return&&n.return()}finally{if(o)throw r}}s.setData({\"table.PeerNumber\":e.join(\",\")})},fail:function(t){}}))},loadReApproval:function(){var t=this.data.localStorage;t&&t.valid&&(t.valid=!1,this.setData({table:t.table,\"tableInfo.Title\":t.title,flowid:t.flowid,localStorage:t}))},onChecked:function(t){console.log(!this.data.checked),this.setData({checked:!this.data.checked,disablePage:this.data.checked})},onChecked2:function(t){this.setData({checked2:!this.data.checked2,disablePage:this.data.checked2})},downLoad:function(){var t={UserId:this.data.DingData.userid,Media_Id:\"@lAnPBY0V4-rKP9rOTtf42s5H6UHz\"};this._postData(\"DingTalkServers/sendFileMessageNew\",function(t){dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\\uff0c\\u8bf7\\u5728PC\\u7aef\\u67e5\\u6536\"})},t)},selectStartDateTime:function(){var e=this;dd.datePicker({format:\"yyyy-MM-dd HH:mm\",currentDate:this.data.DateStr+\" \"+this.data.TimeStr,startDate:this.data.DateStr+\" \"+this.data.TimeStr,endDate:this.data.Year+1+\"-\"+this.data.Month+\"-\"+this.data.Day+\" \"+this.data.TimeStr,success:function(t){e.setData({\"table.StartTime\":t.date})}})},selectEndDateTime:function(){var e=this;dd.datePicker({format:\"yyyy-MM-dd HH:mm\",currentDate:this.data.DateStr+\" \"+this.data.TimeStr,startDate:this.data.DateStr+\" \"+this.data.TimeStr,endDate:this.data.Year+1+\"-\"+this.data.Month+\"-\"+this.data.Day+\" \"+this.data.TimeStr,success:function(t){e.setData({\"table.EndTime\":t.date})}})}}))},function(t,e,a){\"use strict\";var o=n(a(2)),r=n(a(0)),i=n(a(1));function n(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approveDetail/paper/paper\",usingComponents:{table:\"/util/table/table\",column:\"/util/table/column/column\"}},Page((0,r.default)({},i.default.func,i.default.func.dowith,{data:(0,r.default)({},i.default.data,{hidden:!0,totalPrice:\"0\",tableItems:[{prop:\"Sorts\",label:\"\\u7c7b\\u522b\",width:100},{prop:\"DrawingNo\",label:\"\\u4ee3\\u53f7\",width:300},{prop:\"Name\",label:\"\\u540d\\u79f0\",width:300},{prop:\"Count\",label:\"\\u6570\\u91cf\",width:100},{prop:\"MaterialScience\",label:\"\\u6750\\u6599\",width:200},{prop:\"Unit\",label:\"\\u5355\\u4f4d\",width:100},{prop:\"SingleWeight\",label:\"\\u5355\\u91cd\",width:100},{prop:\"AllWeight\",label:\"\\u603b\\u91cd\",width:100},{prop:\"NeedTime\",label:\"\\u9700\\u7528\\u65e5\\u671f\",width:200},{prop:\"Mark\",label:\"\\u5907\\u6ce8\",width:300}],imageList:[],fileList:[],pdfList:[]}),submit:function(t){var e=t.detail.value,a={Title:e.title,Remark:e.remark};this.aggreSubmit(a)},print:function(){this._postData(\"DrawingUploadNew/PrintAndSend\",function(t){dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\\uff0c\\u8bf7\\u5728\\u9489\\u9489\\u5de5\\u4f5c\\u901a\\u77e5\\u4e2d\\u67e5\\u6536\"})},{UserId:this.data.DingData.userid,TaskId:this.data.taskid,OldPath:this.data.FilePDFUrl.replace(/\\\\/g,\"\\\\\\\\\")})},downloadAllPdf:function(){this._getData(\"NewsAndCases/GetAllPDF\"+this.formatQueryStr({ApplyManId:this.data.DingData.userid,taskId:this.data.taskid}),function(t){dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\\uff0c\\u8bf7\\u5728\\u9489\\u9489\\u5de5\\u4f5c\\u901a\\u77e5\\u4e2d\\u67e5\\u6536\"})})},setPdfState:function(t){var e=t.target.dataset.index;\"1\"==this.data.pdfList[e].state?this.data.pdfList[e].state=\"0\":this.data.pdfList[e].state=\"1\",this.setData({pdfList:this.data.pdfList});var a=[],o=!0,r=!1,i=void 0;try{for(var n,l=this.data.pdfList[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value;a.push(s.state)}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}var d=\"FileNew/UpdatePDFState?TaskId=\"+this.data.taskid+\"&PDFState=\"+a.join(\",\");this._getData(d,function(t){})},onReady:function(){var e=this,t={ApplyManId:this.data.DingData.userid,nodeId:this.data.nodeid,TaskId:this.data.taskid};this._getData(\"FlowInfoNew/GetApproveInfo\"+this.formatQueryStr(t),function(t){console.log(\"ffffffffffffffffffffffffff\"),console.log(JSON.parse(t.counts).Designer),e.setData((0,o.default)({},\"tableInfo.counts\",JSON.parse(t.counts)))},this.data.DingData)}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/start/useCar/useCar\",usingComponents:{table:\"/util/table/table\",column:\"/util/table/column/column\"}};Page((0,o.default)({},r.default.func,r.default.func.start,{data:(0,o.default)({},r.default.data,{hidden:!0,checked:!1,checked2:!1,table:{},items:[{name:\"\\u672c\\u4eba\\u540c\\u610f\\u300a\\u79c1\\u8f66\\u516c\\u7528\\u534f\\u8bae\\u4e66\\u300b\"}],items2:[{name:\"\\u672c\\u4eba\\u5df2\\u7ecf\\u63d0\\u4ea4\\u5916\\u51fa\\u7533\\u8bf7\"}]}),submit:function(t){var e=this;if(\"0907095238746571\"!=this.data.nodeList[1].AddPeople[0].userId){var a=t.detail.value;if(a.CarId=\"\",a.IsChooseOccupyCar=!0,a.IsPublicCar=!1,a.OccupyCarId=\"\",console.log(a),a.DrivingMan&&a.MainContent&&a.PlantTravelWay&&a.StartTime&&a.EndTime&&a.CarNumber){if(!this.data.checked||!this.data.checked2)return console.log(this.data.checked),console.log(this.data.checked2),void dd.alert({content:\"\\u672a\\u5168\\u52fe\\u9009\\u2018\\u540c\\u610f\\u2019\\u9009\\u9879\"});this.approvalSubmit({Title:a.Title},function(t){console.log(\"\\u63d0\\u4ea4\\u5ba1\\u6279ok!\"),a.TaskId=t,e._postData(\"CarTableNew/TableSave\",function(t){e.doneSubmit()},a)})}else dd.alert({content:\"\\u8868\\u5355\\u672a\\u586b\\u5199\\u5b8c\\u6574\"})}else dd.alert({content:\"\\u7528\\u8f66\\u65e0\\u9700\\u5b63\\u8001\\u5e08\\u5ba1\\u6279,\\u5982\\u662f\\u90e8\\u957f\\u7ea7\\u8bf7\\u9009\\u672c\\u4eba\"})},choosePeoples:function(t){console.log(\"start choose people\");t.target.targetDataset.NodeId;var s=this;dd.complexChoose((0,o.default)({},s.chooseParam,{multiple:!0,success:function(t){console.log(t);var e=[],a=!0,o=!1,r=void 0;try{for(var i,n=t.users[Symbol.iterator]();!(a=(i=n.next()).done);a=!0){var l=i.value;e.push(l.name)}}catch(t){o=!0,r=t}finally{try{!a&&n.return&&n.return()}finally{if(o)throw r}}s.setData({\"table.PeerNumber\":e.join(\",\")})},fail:function(t){}}))},onChecked:function(t){this.setData({checked:!this.data.checked,disablePage:this.data.checked})},onChecked2:function(t){this.setData({checked2:!this.data.checked2,disablePage:this.data.checked2})},loadReApproval:function(){var t=this.data.localStorage;t&&t.valid&&(t.valid=!1,this.setData({table:t.table,\"tableInfo.Title\":t.title,flowid:t.flowid,localStorage:t}))},downLoad:function(){var t={UserId:this.data.DingData.userid,Media_Id:\"@lArPDeC2t0PoLXvOAzqTa84ublTK\"};this._postData(\"DingTalkServers/sendFileMessageNew\",function(t){dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\\uff0c\\u8bf7\\u5728PC\\u7aef\\u67e5\\u6536\"})},t)},selectStartDateTime:function(){var e=this;dd.datePicker({format:\"yyyy-MM-dd HH:mm\",currentDate:this.data.DateStr+\" \"+this.data.TimeStr,startDate:this.data.DateStr+\" \"+this.data.TimeStr,endDate:this.data.Year+1+\"-\"+this.data.Month+\"-\"+this.data.Day+\" \"+this.data.TimeStr,success:function(t){e.setData({\"table.StartTime\":t.date})}})},selectEndDateTime:function(){var e=this;dd.datePicker({format:\"yyyy-MM-dd HH:mm\",currentDate:this.data.DateStr+\" \"+this.data.TimeStr,startDate:this.data.DateStr+\" \"+this.data.TimeStr,endDate:this.data.Year+1+\"-\"+this.data.Month+\"-\"+this.data.Day+\" \"+this.data.TimeStr,success:function(t){e.setData({\"table.EndTime\":t.date})}})}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approveDetail/useCar/useCar\",usingComponents:{}},Page((0,o.default)({},r.default.func,r.default.func.dowith,{data:(0,o.default)({},r.default.data,{useTimeList:[],imgUrlList:[],table:{}}),uploadImg:function(t){var l=this;dd.chooseImage({count:2,success:function(t){var e=!0,a=!1,o=void 0;try{for(var r,i=t.apFilePaths[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var n=r.value;l.setData({disablePage:!0}),dd.showLoading({content:\"\\u56fe\\u7247\\u5904\\u7406\\u4e2d...\"}),dd.uploadFile({url:l.data.dormainName+\"drawingupload/Upload\",fileType:\"image\",fileName:n.substring(7),IsWaterMark:!0,filePath:n,success:function(t){console.log(t),l.data.tableInfo.ImageUrl?l.data.tableInfo.ImageUrl+=\",\":l.data.tableInfo.ImageUrl=\"\",l.data.tableInfo.ImageUrl+=JSON.parse(t.data).Content,l._postData(\"FlowInfoNew/TaskModify\",function(t){l.getFormData(),l.setData({disablePage:!1}),dd.hideLoading()},l.data.tableInfo)},fail:function(t){dd.alert({content:\"sorry\"+JSON.stringify(t)})}})}}catch(t){a=!0,o=t}finally{try{!e&&i.return&&i.return()}finally{if(a)throw o}}}})},addPlace:function(){var l=this;dd.chooseImage({count:1,sourceType:[\"camera\"],success:function(t){var e=!0,a=!1,o=void 0;try{for(var r,i=t.apFilePaths[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var n=r.value;l.setData({disablePage:!0}),dd.showLoading({content:\"\\u56fe\\u7247\\u5904\\u7406\\u4e2d...\"}),dd.uploadFile({url:l.data.dormainName+\"drawingupload/Upload?IsWaterMark=true\",fileType:\"image\",fileName:n.substring(7),IsWaterMark:!0,filePath:n,success:function(t){console.log(t),l.data.tableInfo.ImageUrl?l.data.tableInfo.ImageUrl+=\",\":l.data.tableInfo.ImageUrl=\"\",l.data.tableInfo.ImageUrl+=JSON.parse(t.data).Content,l._postData(\"FlowInfoNew/TaskModify\",function(t){l.getFormData(),l.setData({disablePage:!1}),dd.hideLoading()},l.data.tableInfo)},fail:function(t){dd.alert({content:\"sorry\"+JSON.stringify(t)})}})}}catch(t){a=!0,o=t}finally{try{!e&&i.return&&i.return()}finally{if(a)throw o}}}})},deleteImg:function(){this.data.imgUrlList=this.data.tableInfo.ImageUrl.split(\",\"),this.setData({imageList:this.data.imageList.splice(0,this.data.imageList.length-1)}),this.data.tableInfo.ImageUrl=this.data.imgUrlList.slice(0,this.data.imgUrlList.length-1).join(\",\"),this._postData(\"FlowInfoNew/TaskModify\",function(t){},this.data.tableInfo)},submit:function(t){var e=this,a=t.detail.value;if(a.StartKilometres&&a.EndKilometres||3!=this.data.nodeid&&4!=this.data.nodeid){if(3==this.data.nodeid&&this.data.imageList.length<2)return console.log(this.data.imageList),void dd.alert({content:\"\\u9700\\u8981\\u4e0a\\u4f20\\u8d77\\u6b62\\u516c\\u91cc\\u6570\\u56fe\\u7247\"});var o={Title:a.title,Remark:a.remark};this.data.table.FactTravelWay=a.FactTravelWay,this.data.table.StartKilometres=a.StartKilometres,this.data.table.EndKilometres=a.EndKilometres,this.data.table.UseKilometres=parseInt(a.EndKilometres)-parseInt(a.StartKilometres),this.setData({disablePage:!0}),this._postData(\"CarTableNew/TableModify\",function(t){e.aggreSubmit(o)},this.data.table)}else dd.alert({content:\"\\u8868\\u5355\\u672a\\u586b\\u5199\\u5b8c\\u6574\"})},print:function(){this._postData(\"CarTableNew/GetPrintPDF\",function(t){dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\\uff0c\\u8bf7\\u5728\\u9489\\u9489PC\\u7aef\\u67e5\\u6536\"})},{UserId:this.data.DingData.userid,TaskId:this.data.taskid,IsPublic:!1},this.data.DingData)},reApproval:function(){this.data.localStorage=JSON.stringify({valid:!0,flowid:this.data.flowid,title:this.data.tableInfo.Title,table:this.data.table});var t=!0,e=!1,a=void 0;try{for(var o,r=this.data.menu[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var i=o.value;i.flowId==this.data.flowid&&dd.redirectTo({url:\"/page/start/\"+i.url+\"?flowid=\"+i.flowId})}}catch(t){e=!0,a=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw a}}},onReady:function(){var a=this;this._getData(\"CarTableNew/TableQuary\"+this.formatQueryStr({TaskId:this.data.taskid}),function(t){var e=t[0];e.FactTravelWay||(e.FactTravelWay=e.PlantTravelWay),e.PeerNumber||(e.PeerNumber=\"\"),a.setData({table:e})})},deletePhoto:function(a){var o=this;my.confirm({title:\"\\u6e29\\u99a8\\u63d0\\u793a\",content:\"\\u662f\\u5426\\u9700\\u8981\\u5220\\u9664\\uff1f\",confirmButtonText:\"YES\",cancelButtonText:\"NO\",success:function(t){if(1==t.confirm){var e=a.currentTarget.dataset.index;o.data.imageList.splice(e,1),o.setData({imageList:o.data.imageList}),o.data.imgUrlList=o.data.tableInfo.ImageUrl.split(\",\"),o.data.imgUrlList.splice(e,1),o.data.tableInfo.ImageUrl=o.data.imgUrlList.join(\",\"),o._postData(\"FlowInfoNew/TaskModify\",function(t){},o.data.tableInfo)}}})}}))},function(t,e,a){\"use strict\";var y=i(a(2)),o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/start/picking/picking\",usingComponents:{table:\"/util/table/table\",column:\"/util/table/column/column\"}};var m={};Page((0,o.default)({},r.default.func,r.default.func.start,{data:(0,o.default)({},r.default.data,{hidden:!0,tableOperate:\"\\u9009\\u62e9\",purchaseList:[],tableParam2:{size:100,now:1,total:0},tableOperate2:\"\\u5220\\u9664\",tableOperate3:\"\\u7f16\\u8f91\",ifedit:!1,good:{},goods:[],totalPrice:0,addPeopleNodes:[1],tableItems:[{prop:\"fNumber\",label:\"\\u7269\\u6599\\u7f16\\u7801\",width:200},{prop:\"fName\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:300},{prop:\"left\",label:\"\\u5e93\\u5b58\\u6570\\u91cf\",width:200},{prop:\"fModel\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"unitName\",label:\"\\u5355\\u4f4d\",width:100},{prop:\"fFullName\",label:\"\\u4f9b\\u5e94\\u5546\",width:300}],tableItems2:[{prop:\"fNumber\",label:\"\\u7269\\u6599\\u7f16\\u7801\",width:200},{prop:\"fQty\",label:\"\\u5b9e\\u6536\\u6570\\u91cf\",width:200},{prop:\"left\",label:\"\\u5e93\\u5b58\\u6570\\u91cf\",width:200},{prop:\"fName\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:300},{prop:\"fModel\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"unitName\",label:\"\\u5355\\u4f4d\",width:100},{prop:\"fFullName\",label:\"\\u4f9b\\u5e94\\u5546\",width:300}]}),search:function(t){var s=this;t.detail.value.keyWord?dd.showLoading({content:\"\\u83b7\\u53d6\\u4e2d...\"}):dd.showToast({content:\"\\u8bf7\\u8f93\\u5165\\u5173\\u952e\\u5b57\"});var e=t.detail.value;if(console.log(e.keyWord),e&&e.keyWord){var d=this.data.jinDomarn+\"Pick/ReadPickInfoSingle\"+this.formatQueryStr({keyWord:e.keyWord});dd.httpRequest({url:d,method:\"GET\",success:function(t){dd.hideLoading(),console.log(d),console.log(t.data.data);var e=t.data.data,a=!0,o=!1,r=void 0;try{for(var i,n=e[Symbol.iterator]();!(a=(i=n.next()).done);a=!0){var l=i.value;l.left=parseInt(l.fQty)}}catch(t){o=!0,r=t}finally{try{!a&&n.return&&n.return()}finally{if(o)throw r}}0==e.length&&dd.showToast({content:\"\\u6682\\u65e0\\u6570\\u636e\"}),s.setData({\"tableParam.total\":e.length}),console.log(e),s.data.goods=e,s.data.data=e,s.getData()}})}},searchAndAdd2:function(t){t.detail.value.keyWord?dd.showLoading({content:\"\\u83b7\\u53d6\\u4e2d...\"}):dd.showToast({content:\"\\u8bf7\\u8f93\\u5165\\u6d41\\u6c34\\u53f7\"});var e=t.detail.value;if(console.log(e.keyWord),e&&e.keyWord){var b=this;this._getData(\"Pick/ReadDefault\"+this.formatQueryStr({ApplyManId:b.data.DingData.userid,TaskId:e.keyWord}),function(t){dd.hideLoading();var e=[],a=b.data.purchaseList.length;0==t.length&&dd.showToast({content:\"\\u6682\\u65e0\\u6570\\u636e\"});var o=!0,r=!1,i=void 0;try{for(var n,l=t[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value,d=!1,u=!0,c=!1,h=void 0;try{for(var f,p=b.data.purchaseList[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var g=f.value;s.fNumber==g.fNumber&&(d=!0)}}catch(t){c=!0,h=t}finally{try{!u&&p.return&&p.return()}finally{if(c)throw h}}if(d)break;s.left=s.fQty,b.data.goods.push(s),e.push(s)}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}for(var m=0;m<e.length;m++)b.setData((0,y.default)({},\"purchaseList[\"+(a+m)+\"]\",e[m]))})}},searchAndAdd:function(t){t.detail.value.keyWord?dd.showLoading({content:\"\\u83b7\\u53d6\\u4e2d...\"}):dd.showToast({content:\"\\u8bf7\\u8f93\\u5165\\u6d41\\u6c34\\u53f7\"});var e=t.detail.value;if(console.log(e.keyWord),e&&e.keyWord){var b=this,v=this.data.jinDomarn+\"Pick/ReadPickingInfo\"+b.formatQueryStr({UnitName:e.keyWord});dd.httpRequest({url:v,method:\"GET\",success:function(t){dd.hideLoading(),console.log(v),console.log(t.data.data),0==t.data.data.length&&dd.showToast({content:\"\\u6682\\u65e0\\u6570\\u636e\"});var e=[],a=b.data.purchaseList.length,o=!0,r=!1,i=void 0;try{for(var n,l=t.data.data[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value,d=!1,u=!0,c=!1,h=void 0;try{for(var f,p=b.data.purchaseList[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var g=f.value;s.fNumber==g.fNumber&&(d=!0)}}catch(t){c=!0,h=t}finally{try{!u&&p.return&&p.return()}finally{if(c)throw h}}if(d)break;b.data.goods.push(s),e.push(s)}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}for(var m=0;m<e.length;m++)b.setData((0,y.default)({},\"purchaseList[\"+(a+m)+\"]\",e[m]))},fail:function(t){dd.alert({content:JSON.stringify(t)})}})}},submit:function(t){var e=this,a=t.detail.value;if(this.data.projectIndex<0||!a.title)return console.log(a),void dd.alert({content:\"\\u8868\\u5355\\u586b\\u5199\\u4e0d\\u5b8c\\u6574\"});var o={Title:a.title,Remark:a.remark,ProjectName:e.data.projectList[e.data.projectIndex].ProjectName,ProjectId:e.data.projectList[e.data.projectIndex].ProjectId};console.log(o),this.approvalSubmit(o,function(t){e.bindAll(t)},{ProjectId:o.ProjectId})},bindAll:function(t){var e=this,a=[],o=!0,r=!1,i=void 0;try{for(var n,l=e.data.purchaseList[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value;s.TaskId=t,a.push(s)}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}e._postData(\"Pick/Save\",function(t){e.doneSubmit()},a)},chooseItem:function(t){t&&(console.log(t),(m=t.target.targetDataset.row)&&(this.setData({hidden:!this.data.hidden,ifedit:!1}),this.createMaskShowAnim(),this.createContentShowAnim()))},deleteItem:function(t){if(t){console.log(t);var e=t.target.targetDataset.index;if(e||0==e)if(t.target.targetDataset.opt2){if(!(m=t.target.targetDataset.row))return;this.setData({hidden:!this.data.hidden,ifedit:!0}),this.createMaskShowAnim(),this.createContentShowAnim()}else console.log(this.data.purchaseList),this.data.purchaseList.splice(e,1),this.setData({purchaseList:this.data.purchaseList}),console.log(this.data.purchaseList)}},addGood:function(t){var e=t.detail.value;if(console.log(e),e&&e.fQty){if(this.data.ifedit)for(var a=0;a<this.data.purchaseList.length;a++){var o=!0,r=!1,i=void 0;try{for(var n,l=this.data.goods[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value;if(this.data.purchaseList[a].fNumber==s.fNumber&&parseInt(e.fQty)>parseInt(s.left))return void dd.alert({content:\"\\u5927\\u4e8e\\u53ef\\u7528\\u6570\\u91cf\"})}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}this.data.purchaseList[a].fNumber==m.fNumber&&(m.fQty=e.fQty?e.fQty+\"\":\"1\",this.setData((0,y.default)({},\"purchaseList[\"+a+\"]\",m)))}else{var d=!0,u=!1,c=void 0;try{for(var h,f=this.data.purchaseList[Symbol.iterator]();!(d=(h=f.next()).done);d=!0){if(h.value.fNumber==m.fNumber)return void dd.alert({content:\"\\u91cd\\u590d\\u63d0\\u4ea4\"})}}catch(t){u=!0,c=t}finally{try{!d&&f.return&&f.return()}finally{if(u)throw c}}if(e.fQty>m.left)return void dd.alert({content:\"\\u5927\\u4e8e\\u53ef\\u7528\\u6570\\u91cf\"});var p={fNumber:m.fNumber,fName:m.fName,fModel:m.fModel,unitName:m.unitName,left:m.left,fQty:e.fQty?e.fQty+\"\":\"1\",fPrice:m.fPrice?m.fPrice+\"\":\"0\",fAmount:m.fAmount?m.fAmount+\"\":\"0\",fFullName:m.fFullName},g=this.data.purchaseList.length;this.setData((0,y.default)({},\"purchaseList[\"+g+\"]\",p))}this.onModalCloseTap()}else dd.alert({content:\"\\u8868\\u5355\\u586b\\u5199\\u4e0d\\u5b8c\\u6574\"})},onModalCloseTap:function(){var t=this;this.createMaskHideAnim(),this.createContentHideAnim(),setTimeout(function(){t.setData({hidden:!0})},210)},saveTempData:function(){localStorage.setItem(\"purchase\",JSON.stringify(this.data.purchaseList)),dd.alert({content:\"\\u4fdd\\u5b58\\u6210\\u529f\"})},loadTempData:function(){var t=JSON.parse(localStorage.getItem(\"purchase\"));t&&t.length&&t.length>0&&(this.setData({purchaseList:t}),localStorage.removeItem(\"purchase\"))},onShow:function(){}}))},function(t,e,a){\"use strict\";var y=i(a(2)),o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/start/intoStorage/intoStorage\",usingComponents:{table:\"/util/table/table\",column:\"/util/table/column/column\"}};var m={};Page((0,o.default)({},r.default.func,r.default.func.start,{data:(0,o.default)({},r.default.data,{hidden:!0,tableOperate:\"\\u9009\\u62e9\",purchaseList:[],tableParam2:{size:100,now:1,total:0},tableOperate2:\"\\u5220\\u9664\",tableOperate3:\"\\u7f16\\u8f91\",ifedit:!1,good:{},goods:[],addPeopleNodes:[2],totalPrice:0,tableItems:[{prop:\"fNumber\",label:\"\\u7269\\u6599\\u7f16\\u7801\",width:200},{prop:\"fQty\",label:\"\\u5b9e\\u6536\\u6570\\u91cf\",width:200},{prop:\"fName\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:300},{prop:\"fModel\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"unitName\",label:\"\\u5355\\u4f4d\",width:100},{prop:\"fFullName\",label:\"\\u4f9b\\u5e94\\u5546\",width:300}],tableItems2:[{prop:\"fNumber\",label:\"\\u7269\\u6599\\u7f16\\u7801\",width:200},{prop:\"fQty\",label:\"\\u5b9e\\u6536\\u6570\\u91cf\",width:200},{prop:\"fName\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:300},{prop:\"fModel\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"unitName\",label:\"\\u5355\\u4f4d\",width:100},{prop:\"fFullName\",label:\"\\u4f9b\\u5e94\\u5546\",width:300}]}),search:function(t){dd.showLoading({content:\"\\u83b7\\u53d6\\u4e2d...\"});var e=t.detail.value;if(console.log(e.keyWord),e&&e.keyWord){var a=this,o=this.data.jinDomarn+\"Godown/ReadGodownInfoSingle\"+a.formatQueryStr({keyWord:e.keyWord});dd.httpRequest({url:o,method:\"GET\",success:function(t){dd.hideLoading(),console.log(o),console.log(t.data.data),0==t.data.data.length&&dd.showToast({content:\"\\u6682\\u65e0\\u6570\\u636e\"}),a.setData({\"tableParam.total\":t.data.data.length}),a.data.data=t.data.data,a.getData()},fail:function(t){dd.alert({content:JSON.stringify(t)})}})}},searchByNo:function(t){dd.showLoading({content:\"\\u83b7\\u53d6\\u4e2d...\"});var e=t.detail.value;if(console.log(e.no),e&&e.no){var a=this,o=this.data.jinDomarn+\"Godown/GetGodownInfoByFBillNo\"+a.formatQueryStr({FBillNo:e.no});dd.httpRequest({url:o,method:\"GET\",success:function(t){dd.hideLoading(),console.log(o),console.log(t.data.data),0==t.data.data.length&&dd.showToast({content:\"\\u6682\\u65e0\\u6570\\u636e\"}),a.setData({\"tableParam.total\":t.data.data.length}),a.data.data=t.data.data,a.getData()},fail:function(t){dd.alert({content:JSON.stringify(t)})}})}},searchAndAdd:function(t){dd.showLoading({content:\"\\u83b7\\u53d6\\u4e2d...\"});var e=t.detail.value;if(console.log(e.keyWord),e&&e.keyWord){var b=this,v=this.data.jinDomarn+\"Godown/ReadGodownInfo\"+b.formatQueryStr({UnitName:e.keyWord});dd.httpRequest({url:v,method:\"GET\",success:function(t){dd.hideLoading(),console.log(v),console.log(t.data.data),0==t.data.data.length&&dd.showToast({content:\"\\u6682\\u65e0\\u6570\\u636e\"});var e=[],a=b.data.purchaseList.length,o=!0,r=!1,i=void 0;try{for(var n,l=t.data.data[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value,d=!1,u=!0,c=!1,h=void 0;try{for(var f,p=b.data.purchaseList[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var g=f.value;s.fNumber==g.fNumber&&(d=!0)}}catch(t){c=!0,h=t}finally{try{!u&&p.return&&p.return()}finally{if(c)throw h}}if(d)break;b.data.goods.push(s),e.push(s)}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}for(var m=0;m<e.length;m++)b.setData((0,y.default)({},\"purchaseList[\"+(a+m)+\"]\",e[m]))},fail:function(t){dd.alert({content:JSON.stringify(t)})}})}},submit:function(t){var e=[],a=!0,o=!1,r=void 0;try{for(var i,n=this.data.purchaseList[Symbol.iterator]();!(a=(i=n.next()).done);a=!0){var l=i.value;e.push(l.fFullName)}}catch(t){o=!0,r=t}finally{try{!a&&n.return&&n.return()}finally{if(o)throw r}}new Set(e);var s=this,d=t.detail.value,u={Title:d.title,Remark:d.remark,ProjectName:s.data.projectList[s.data.projectIndex].ProjectName,ProjectId:s.data.projectList[s.data.projectIndex].ProjectId};console.log(u),this.approvalSubmit(u,function(t){console.log(\"\\u63d0\\u4ea4\\u5ba1\\u6279ok!\"),s.bindAll(t)})},bindAll:function(t){var e=this,a=[],o=!0,r=!1,i=void 0;try{for(var n,l=e.data.purchaseList[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value;s.TaskId=t,a.push(s)}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}e._postData(\"Godown/Save\",function(t){e.doneSubmit()},a)},chooseItem:function(t){t&&(console.log(t),(m=t.target.targetDataset.row)&&(this.setData({hidden:!this.data.hidden,ifedit:!1}),this.createMaskShowAnim(),this.createContentShowAnim()))},deleteItem:function(t){if(t){console.log(t);var e=t.target.targetDataset.index;if(e||0==e)if(t.target.targetDataset.opt2){if(!(m=t.target.targetDataset.row))return;this.setData({hidden:!this.data.hidden,ifedit:!0}),this.createMaskShowAnim(),this.createContentShowAnim()}else console.log(this.data.purchaseList),this.data.purchaseList.splice(e,1),this.setData({purchaseList:this.data.purchaseList}),console.log(this.data.purchaseList)}},addGood:function(t){var e=t.detail.value;if(console.log(e),e&&e.fQty){if(this.data.ifedit)for(var a=0;a<this.data.purchaseList.length;a++){var o=!0,r=!1,i=void 0;try{for(var n,l=this.data.goods[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value;if(this.data.purchaseList[a].fNumber==s.fNumber&&e.fQty>s.fQty)return void dd.alert({content:\"\\u5927\\u4e8e\\u53ef\\u7528\\u6570\\u91cf\"})}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}this.data.purchaseList[a].fNumber==m.fNumber&&(m.fQty=e.fQty?e.fQty+\"\":\"1\",this.setData((0,y.default)({},\"purchaseList[\"+a+\"]\",m)))}else{var d=!0,u=!1,c=void 0;try{for(var h,f=this.data.purchaseList[Symbol.iterator]();!(d=(h=f.next()).done);d=!0){if(h.value.fNumber==m.fNumber)return void dd.alert({content:\"\\u91cd\\u590d\\u63d0\\u4ea4\"})}}catch(t){u=!0,c=t}finally{try{!d&&f.return&&f.return()}finally{if(u)throw c}}if(e.fQty>m.fQty)return void dd.alert({content:\"\\u5927\\u4e8e\\u53ef\\u7528\\u6570\\u91cf\"});var p={fNumber:m.fNumber,fName:m.fName,fModel:m.fModel,unitName:m.unitName,fQty:e.fQty?e.fQty+\"\":\"1\",fPrice:m.fPrice?m.fPrice+\"\":\"0\",fAmount:m.fAmount?m.fAmount+\"\":\"0\",fFullName:m.fFullName},g=this.data.purchaseList.length;this.setData((0,y.default)({},\"purchaseList[\"+g+\"]\",p)),p.fQty=m.fQty,this.data.goods.push(p)}this.onModalCloseTap()}else dd.alert({content:\"\\u8868\\u5355\\u586b\\u5199\\u4e0d\\u5b8c\\u6574\"})},onModalCloseTap:function(){var t=this;this.createMaskHideAnim(),this.createContentHideAnim(),setTimeout(function(){t.setData({hidden:!0})},210)},saveTempData:function(){localStorage.setItem(\"purchase\",JSON.stringify(this.data.purchaseList)),dd.alert({content:\"\\u4fdd\\u5b58\\u6210\\u529f\"})},loadTempData:function(){var t=JSON.parse(localStorage.getItem(\"purchase\"));t&&t.length&&t.length>0&&(this.setData({purchaseList:t}),localStorage.removeItem(\"purchase\"))},onShow:function(){}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approveDetail/intoStorage/intoStorage\",usingComponents:{table:\"/util/table/table\",column:\"/util/table/column/column\"}},Page((0,o.default)({},r.default.func,r.default.func.dowith,{data:(0,o.default)({},r.default.data,{hidden:!0,totalPrice:\"0\",tableItems:[{prop:\"fNumber\",label:\"\\u7269\\u6599\\u7f16\\u7801\",width:200},{prop:\"fName\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:300},{prop:\"fModel\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"unitName\",label:\"\\u5355\\u4f4d\",width:100},{prop:\"fPrice\",label:\"\\u5355\\u4ef7\",width:200},{prop:\"fQty\",label:\"\\u5b9e\\u6536\\u6570\\u91cf\",width:200},{prop:\"fAmount\",label:\"\\u91d1\\u989d\",width:200},{prop:\"fFullName\",label:\"\\u4f9b\\u5e94\\u5546\",width:300}]}),submit:function(t){var e=t.detail.value,a={Title:e.title,Remark:e.remark};console.log(t),this.aggreSubmit(a)},print:function(){this._postData(\"Godown/PrintPDF\",function(t){console.log(t),dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\"})},{UserId:this.data.DingData.userid,TaskId:this.data.taskid})},output:function(){this._postData(\"Godown/PrintExcel\",function(t){console.log(t),dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\"})},{UserId:this.data.DingData.userid,TaskId:this.data.taskid})}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"util/errorPage/errorPage\",usingComponents:{table:\"/util/table/table\",column:\"/util/table/column/column\"}},Page((0,o.default)({},r.default.func,{data:(0,o.default)({},r.default.data,{tableParam:{size:15,now:1,total:0},tableItems:[{prop:\"ApplyMan\",label:\"\\u7533\\u8bf7\\u4eba\",width:200},{prop:\"ApplyManId\",label:\"\\u7533\\u8bf7\\u4ebaid\",width:300},{prop:\"ApplyTime\",label:\"\\u8c03\\u7528\\u65f6\\u95f4\",width:300},{prop:\"Url\",label:\"\\u63a5\\u53e3\\u8def\\u5f84\",width:400},{prop:\"ErrorCode\",label:\"\\u9519\\u8bef\\u7801\",width:100},{prop:\"ErrorMsg\",label:\"\\u9519\\u8bef\\u4fe1\\u606f\",width:400},{prop:\"Para\",label:\"\\u53c2\\u6570\",width:400},{prop:\"GetOrPost\",label:\"Method\\u7c7b\\u578b\",width:200}]}),onLoad:function(){var e=this;this.requestNofailData(\"POST\",\"ErrorLog/Read\",function(t){e.setData({data:t.data.data,\"tableParam.total\":t.data.data.length}),e.getData()})}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approveDetail/picking/picking\",usingComponents:{table:\"/util/table/table\",column:\"/util/table/column/column\"}},Page((0,o.default)({},r.default.func,r.default.func.dowith,{data:(0,o.default)({},r.default.data,{hidden:!0,totalPrice:\"0\",imgUrlList:[],tableItems:[{prop:\"fNumber\",label:\"\\u7269\\u6599\\u7f16\\u7801\",width:200},{prop:\"fName\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:300},{prop:\"fModel\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"unitName\",label:\"\\u5355\\u4f4d\",width:100},{prop:\"fQty\",label:\"\\u5b9e\\u6536\\u6570\\u91cf\",width:200},{prop:\"fFullName\",label:\"\\u4f9b\\u5e94\\u5546\",width:300}]}),submit:function(t){var e=t.detail.value,a={Title:e.title,Remark:e.remark};if(this.data.imgUrlList.length>0)a.ImageUrl=this.data.imgUrlList.join(\",\");else if(3==this.data.nodeid&&0==this.data.imgUrlList.length)return void dd.alert({content:\"\\u8bf7\\u4e0a\\u4f20\\u56fe\\u7247\"});this.aggreSubmit(a)},print:function(){this._postData(\"Pick/PrintPDF\",function(t){dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\"})},{UserId:this.data.DingData.userid,TaskId:this.data.taskid})},output:function(){this._postData(\"Pick/PrintExcel\",function(t){dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\"})},{UserId:this.data.DingData.userid,TaskId:this.data.taskid})}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/start/goOut/goOut\",usingComponents:{table:\"/util/table/table\",column:\"/util/table/column/column\"}};Page((0,o.default)({},r.default.func,r.default.func.start,{data:(0,o.default)({},r.default.data,{placeArr:[],disablePage:!1}),submit:function(t){var e=this,a=t.detail.value;if(a.LocationPlace=\"\",a.Place=this.data.table.Place,console.log(a),a.Place&&a.BeginTime&&a.EndTime&&a.Content&&a.Duration){this.approvalSubmit(a,function(t){console.log(\"\\u63d0\\u4ea4\\u5ba1\\u6279ok!\"),a.TaskId=t,e._postData(\"Evection/Save\",function(t){e.doneSubmit()},a)},{Title:a.Title})}else dd.alert({content:\"\\u8868\\u5355\\u672a\\u586b\\u5199\\u5b8c\\u6574\"})},showInput:function(){this.setData({hidden:!this.data.hidden}),this.createMaskShowAnim(),this.createContentShowAnim()},addPlace:function(t){var e=t.detail.value;console.log(e),e&&e.place?(this.data.placeArr.push(e.place),this.setData({\"table.Place\":this.data.placeArr.join(\"-\")}),this.onModalCloseTap()):dd.alert({content:\"\\u8868\\u5355\\u586b\\u5199\\u4e0d\\u5b8c\\u6574\"})},loadReApproval:function(){var t=this.data.localStorage;t&&t.valid&&(t.valid=!1,this.setData({table:t.table,\"tableInfo.Title\":t.title,flowid:t.flowid,localStorage:t}))},upLoadFile:function(t){console.log(t),dd.uploadFile({url:\"/drawingupload/UploadAndGetInfo\",fileType:\"image\",fileName:\"file\",filePath:\"...\",success:function(t){dd.alert({content:\"\\u4e0a\\u4f20\\u6210\\u529f\"})}})},removePlace:function(){this.data.placeArr.pop(),this.setData({\"table.Place\":this.data.placeArr.join(\"-\")})},choosePeoples:function(t){t.target.targetDataset.NodeId;var d=this;dd.complexChoose((0,o.default)({},d.chooseParam,{multiple:!0,success:function(t){console.log(t);var e=[],a=[],o=!0,r=!1,i=void 0;try{for(var n,l=t.users[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value;e.push(s.name),a.push(s.userId)}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}d.setData({\"table.EvectionMan\":e.join(\",\"),\"table.EvectionManId\":a.join(\",\")})},fail:function(t){}}))},selectStartDateTime:function(){var e=this;dd.datePicker({format:\"yyyy-MM-dd HH:mm\",currentDate:this.data.DateStr+\" \"+this.data.TimeStr,startDate:this.data.DateStr+\" \"+this.data.TimeStr,endDate:this.data.Year+1+\"-\"+this.data.Month+\"-\"+this.data.Day+\" \"+this.data.TimeStr,success:function(t){e.data.endDateStr&&e.setData({\"table.Duration\":e._computeDurTime(new Date(t.date.replace(/-/g,\"/\")),new Date(e.data.endDateStr.replace(/-/g,\"/\")),\"h\")}),e.setData({\"table.BeginTime\":t.date})}})},selectEndDateTime:function(){var e=this;dd.datePicker({format:\"yyyy-MM-dd HH:mm\",currentDate:this.data.DateStr+\" \"+this.data.TimeStr,startDate:this.data.DateStr+\" \"+this.data.TimeStr,endDate:this.data.Year+1+\"-\"+this.data.Month+\"-\"+this.data.Day+\" \"+this.data.TimeStr,success:function(t){e.data.startDateStr&&e.setData({\"table.Duration\":e._computeDurTime(new Date(e.data.startDateStr.replace(/-/g,\"/\")),new Date(t.date.replace(/-/g,\"/\")),\"h\")}),e.setData({\"table.EndTime\":t.date})}})}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approveDetail/goOut/goOut\",usingComponents:{}},Page((0,o.default)({},r.default.func,r.default.func.dowith,{data:(0,o.default)({},r.default.data,{placeArr:[],planLength:0,imgUrlList:[],locationLength:0,table:{}}),submit:function(t){var e=this,a=t.detail.value,o={Title:a.title,Remark:a.remark,ImageUrl:this.data.tableInfo.ImageUrl};2==this.data.nodeid&&this.data.tableInfo.ImageUrl.split(\",\").length<this.data.planLength?dd.alert({content:\"\\u5b9a\\u4f4d\\u7167\\u7247\\u6570\\u5c0f\\u4e8e\\u8ba1\\u5212\\u5916\\u51fa\\u5730\\u70b9\\u6570\"}):(this.setData({disablePage:!0}),this._postData(\"Evection/Modify\",function(t){e.aggreSubmit(o)},this.data.table))},reApproval:function(){this.data.localStorage=JSON.stringify({valid:!0,flowid:this.data.flowid,title:this.data.tableInfo.Title,table:this.data.table});var t=!0,e=!1,a=void 0;try{for(var o,r=this.data.menu[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var i=o.value;i.flowId==this.data.flowid&&dd.redirectTo({url:\"/page/start/\"+i.url+\"?flowid=\"+i.flowId})}}catch(t){e=!0,a=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw a}}},addPlace:function(){var l=this;dd.chooseImage({count:1,sourceType:[\"camera\"],success:function(t){var e=!0,a=!1,o=void 0;try{for(var r,i=t.apFilePaths[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var n=r.value;l.setData({disablePage:!0}),dd.showLoading({content:\"\\u56fe\\u7247\\u5904\\u7406\\u4e2d...\"}),dd.uploadFile({url:l.data.dormainName+\"drawingupload/Upload?IsWaterMark=true\",fileType:\"image\",fileName:n.substring(7),IsWaterMark:!0,filePath:n,success:function(t){l.data.tableInfo.ImageUrl?l.data.tableInfo.ImageUrl+=\",\":l.data.tableInfo.ImageUrl=\"\",\"null\"!=JSON.parse(t.data).Content&&JSON.parse(t.data).Content?(l.data.tableInfo.ImageUrl+=JSON.parse(t.data).Content,l._postData(\"FlowInfoNew/TaskModify\",function(t){l.getFormData(),l.setData({disablePage:!1}),dd.hideLoading()},l.data.tableInfo)):dd.alert({title:\"\\u56fe\\u7247\\u5904\\u7406\\u53d1\\u751f\\u5f02\\u5e38\\uff0c\\u8bf7\\u8054\\u7cfb\\u7ba1\\u7406\\u5458\"})},fail:function(t){dd.alert({content:\"sorry\"+JSON.stringify(t)})}})}}catch(t){a=!0,o=t}finally{try{!e&&i.return&&i.return()}finally{if(a)throw o}}}})},removePlace:function(){this.data.placeArr.length!=this.data.locationLength&&(this.data.placeArr.pop(),this.setData({\"table.LocationPlace\":this.data.placeArr.join(\"-\")}))},savePlace:function(){this._postData(\"Evection/Modify\",function(t){dd.alert({title:\"\\u4fdd\\u5b58\\u6210\\u529f\"})},this.data.table)},onReady:function(){var e=this;this._getData(\"Evection/Read\"+this.formatQueryStr({TaskId:this.data.taskid}),function(t){e.setData({table:t})})},deleteImg:function(){this.data.imgUrlList=this.data.tableInfo.ImageUrl.split(\",\"),this.setData({imageList:this.data.imageList.splice(0,this.data.imageList.length-1)}),this.data.tableInfo.ImageUrl=this.data.imgUrlList.slice(0,this.data.imgUrlList.length-1).join(\",\"),this._postData(\"FlowInfoNew/TaskModify\",function(t){},this.data.tableInfo)},deletePhoto:function(a){var o=this;my.confirm({title:\"\\u6e29\\u99a8\\u63d0\\u793a\",content:\"\\u662f\\u5426\\u9700\\u8981\\u5220\\u9664\\uff1f\",confirmButtonText:\"YES\",cancelButtonText:\"NO\",success:function(t){if(1==t.confirm){var e=a.currentTarget.dataset.index;o.data.imageList.splice(e,1),o.setData({imageList:o.data.imageList}),o.data.imgUrlList=o.data.tableInfo.ImageUrl.split(\",\"),o.data.imgUrlList.splice(e,1),o.data.tableInfo.ImageUrl=o.data.imgUrlList.join(\",\"),o._postData(\"FlowInfoNew/TaskModify\",function(t){},o.data.tableInfo)}}})}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/start/createProject/createProject\",usingComponents:{table:\"/util/table/table\",column:\"/util/table/column/column\"}};Page((0,o.default)({},r.default.func,r.default.func.start,{data:(0,o.default)({},r.default.data,{stateIndex:0,companyIndex:0,deptIndex:0,typeIndex:0,disablePage:!0}),submit:function(t){var e=this,a=t.detail.value;if(a.CreateTime=\"\",a.CompanyName=\"\\u6cc9\\u5dde\\u534e\\u4e2d\\u79d1\\u6280\\u5927\\u5b66\\u667a\\u80fd\\u5236\\u9020\\u7814\\u7a76\\u9662\",a.ApplyManId=this.data.DingData.userid,a.ResponsibleManId=this.data.tableInfo.ResponsibleManId,a.TeamMembersId=this.data.tableInfo.TeamMembersId,a.ResponsibleMan&&a.groupPeople&&a.StartTime&&a.EndTime){this.approvalSubmit(a,function(t){console.log(\"\\u63d0\\u4ea4\\u5ba1\\u6279ok!\"),a.TaskId=t,e._postData(\"CarTableNew/TableSave\",function(t){e.doneSubmit()},a)})}else dd.alert({content:\"\\u8868\\u5355\\u672a\\u586b\\u5199\\u5b8c\\u6574\"})},chooseMan:function(t){var d=this;dd.complexChoose((0,o.default)({},d.chooseParam,{multiple:!1,success:function(t){console.log(t);var e=[],a=[],o=!0,r=!1,i=void 0;try{for(var n,l=t.users[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value;e.push(s.name),a.push(s.userId)}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}d.setData({\"tableInfo.ResponsibleMan\":e.join(\",\"),\"tableInfo.ResponsibleManId\":a.join(\",\")})}}))},chooseMans:function(t){var d=this;dd.complexChoose((0,o.default)({},d.chooseParam,{multiple:!0,success:function(t){console.log(t);var e=[],a=[],o=!0,r=!1,i=void 0;try{for(var n,l=t.users[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value;e.push(s.name),a.push(s.userId)}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}d.setData({\"tableInfo.TeamMembers\":e.join(\",\"),\"tableInfo.TeamMembersId\":a.join(\",\")})}}))},changeState:function(t){this.setData({stateIndex:t.detail.value})},changeCompany:function(t){this.setData({companyIndex:t.detail.value})},changeDept:function(t){this.setData({deptIndex:t.detail.value})},changeType:function(t){this.setData({typeIndex:t.detail.value})},upLoadFile:function(t){console.log(t)}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approveDetail/createProject/createProject\",usingComponents:{}},Page((0,o.default)({},r.default.func,r.default.func.dowith,{data:(0,o.default)({},r.default.data,{IsReview:!0,copyMans:[],table:{}}),submit:function(t){var e=this,a=t.detail.value,o={Remark:a.remark};if(this.data.table.IsReview=this.data.IsReview,this.data.table.ProjectId=a.ProjectId,3==this.data.nodeid||2==this.data.nodeid){if(3==this.data.nodeid&&!this.data.table.ProjectId)return console.log(this.data.table),void dd.alert({content:\"\\u9879\\u76ee\\u7f16\\u53f7\\u4e0d\\u80fd\\u4e3a\\u7a7a\"});console.log(this.data.nodeList),this.setData({disablePage:!0}),this._postData(\"CreateProject/Modify\",function(t){3==e.data.nodeid?e.requestData(\"POST\",\"Project/AddProject?IsPower=true\",function(t){e.aggreSubmit(o)},e.data.table):e.aggreSubmit(o)},this.data.table)}else this.aggreSubmit(o)},downloadServerFile:function(t){dd.downloadFile({url:t.target.dataset.url,success:function(t){var e=t.filePath;dd.previewImage({urls:[e]})},fail:function(t){dd.alert({content:t.errorMessage||t.error})}})},print:function(){this._postData(\"CreateProject/GetPrintPDF\",function(t){dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\\uff0c\\u8bf7\\u5728\\u9489\\u9489PC\\u7aef\\u67e5\\u6536\"})},{UserId:this.data.DingData.userid,TaskId:this.data.taskid,IsPublic:!0})},radioChange:function(t){this.data.IsReview=t.detail.value},onReady:function(){var e=this;this._getData(\"CreateProject/Read\"+this.formatQueryStr({TaskId:this.data.taskid}),function(t){e.setData({table:t})})}}))},function(t,e,a){\"use strict\";var u=i(a(2)),o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/start/officeSupplies/officeSupplies\",usingComponents:{table:\"/util/table/table\",column:\"/util/table/column/column\"}};var c={};Page((0,o.default)({},r.default.func,r.default.func.start,{data:(0,o.default)({},r.default.data,{hidden:!0,tableOperate:\"\\u9009\\u62e9\",purchaseList:[],tableParam2:{size:100,now:1,total:0},good:{},totalPrice:0,tableItems:[{prop:\"fNumber\",label:\"\\u7269\\u6599\\u7f16\\u7801\",width:200},{prop:\"fName\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:300},{prop:\"fModel\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"unitName\",label:\"\\u5355\\u4f4d\",width:100},{prop:\"fNote\",label:\"\\u9884\\u8ba1\\u5355\\u4ef7\",width:100}],tableItems2:[{prop:\"CodeNo\",label:\"\\u7269\\u6599\\u7f16\\u7801\",width:200},{prop:\"Name\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:300},{prop:\"Standard\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"Unit\",label:\"\\u5355\\u4f4d\",width:100},{prop:\"ExpectPrice\",label:\"\\u9884\\u8ba1\\u5355\\u4ef7\",width:100},{prop:\"Count\",label:\"\\u6570\\u91cf\",width:100},{prop:\"Purpose\",label:\"\\u7528\\u9014\",width:300},{prop:\"Mark\",label:\"\\u5907\\u6ce8\",width:300}]}),search:function(t){var a=this,e=t.detail.value;if(console.log(this.data.chooseParam),console.log(e),e&&e.keyWord){var o=a.data.jinDomarn+\"OfficeSupply/GetOfficeInfo\"+a.formatQueryStr({Key:e.keyWord});dd.httpRequest({url:o,method:\"GET\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded; charset=utf-8\"},success:function(t){var e=t.data.data;console.log(o),console.log(e),a.setData({\"tableParam.total\":e.length}),a.data.data=e,a.getData()},fail:function(t){\"{}\"!=JSON.stringify(t)&&dd.alert({content:\"\\u83b7\\u53d6\\u6570\\u636e\\u5931\\u8d25-\"+o+\"\\u62a5\\u9519:\"+JSON.stringify(t)})}})}},submit:function(t){var e=this,a=t.detail.value,o={Title:a.title,Remark:a.remark};if(e.data.purchaseList.length){console.log(o),this.approvalSubmit(o,function(t){e.bindAll(t)})}else dd.alert({content:\"\\u8bf7\\u9009\\u62e9\\u529e\\u516c\\u7528\\u54c1\"})},bindAll:function(t){var e=this,a=[],o=!0,r=!1,i=void 0;try{for(var n,l=e.data.purchaseList[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value;s.TaskId=t,a.push(s)}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}e.requestJsonData(\"POST\",\"OfficeSupplies/SaveTable\",function(t){e.doneSubmit()},JSON.stringify(a))},chooseItem:function(t){t&&(console.log(t),(c=t.target.targetDataset.row)&&(this.setData({hidden:!this.data.hidden}),this.createMaskShowAnim(),this.createContentShowAnim()))},deleteItem:function(t){if(t){console.log(t);var e=t.target.targetDataset.index;!e&&0!=e||(console.log(this.data.purchaseList),this.data.purchaseList.splice(e,1),this.setData({purchaseList:this.data.purchaseList}),console.log(this.data.purchaseList))}},selectDate:function(){var e=this;dd.datePicker({currentDate:this.data.DateStr,startDate:this.data.DateStr,endDate:this.data.Year+1+\"-\"+this.data.Month+\"-\"+this.data.Day,success:function(t){e.setData({dateStr:t.date})}})},addGood:function(t){var e,a=t.detail.value;console.log(a);var o=!0,r=!1,i=void 0;try{for(var n,l=this.data.purchaseList[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){if(n.value.CodeNo==c.FNumber)return}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}if(a&&a.Count){var s={CodeNo:c.fNumber,Name:c.fName,Standard:c.fModel,Unit:c.unitName,ExpectPrice:c.fNote,Count:a.Count,Purpose:a.Purpose,Mark:a.Mark},d=this.data.purchaseList.length;this.setData((e={},(0,u.default)(e,\"purchaseList[\"+d+\"]\",s),(0,u.default)(e,\"totalPrice\",this.data.totalPrice+s.Price*s.Count+\"\"),e)),console.log(s.Purpose),this.onModalCloseTap()}else dd.alert({content:\"\\u8868\\u5355\\u586b\\u5199\\u4e0d\\u5b8c\\u6574\"})},saveTempData:function(){localStorage.setItem(\"purchase\",JSON.stringify(this.data.purchaseList)),dd.alert({content:\"\\u4fdd\\u5b58\\u6210\\u529f\"})},loadTempData:function(){var t=JSON.parse(localStorage.getItem(\"purchase\"));t&&t.length&&t.length>0&&(this.setData({purchaseList:t}),localStorage.removeItem(\"purchase\"))},onShow:function(){}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approveDetail/officeSupplies/officeSupplies\",usingComponents:{table:\"/util/table/table\",column:\"/util/table/column/column\"}},Page((0,o.default)({},r.default.func,r.default.func.dowith,{data:(0,o.default)({},r.default.data,{hidden:!0,tableItems:[{prop:\"CodeNo\",label:\"\\u7269\\u6599\\u7f16\\u7801\",width:200},{prop:\"Name\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:300},{prop:\"Standard\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"Unit\",label:\"\\u5355\\u4f4d\",width:100},{prop:\"Count\",label:\"\\u6570\\u91cf\",width:100},{prop:\"Purpose\",label:\"\\u7528\\u9014\",width:300},{prop:\"Mark\",label:\"\\u5907\\u6ce8\",width:300}]}),submit:function(t){var e=t.detail.value,a={Title:e.title,Remark:e.remark};this.aggreSubmit(a)}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approveDetail/meterieCode/meterieCode\",usingComponents:{table:\"/util/table/table\",column:\"/util/table/column/column\"}};var s={};Page((0,o.default)({},r.default.func,r.default.func.dowith,{data:(0,o.default)({},r.default.data,{tableOperate:\"\\u7f16\\u8f91\",codeType:\"1\",good:{},hidden2:!0,tableItems:[{prop:\"Name\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:300},{prop:\"CodeNumber\",label:\"\\u7269\\u6599\\u7f16\\u7801\",width:200},{prop:\"Standard\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"BigCode\",label:\"\\u7269\\u6599\\u5927\\u7c7b\\u7f16\\u7801\",width:100},{prop:\"SmallCode\",label:\"\\u7269\\u6599\\u5c0f\\u7c7b\\u7f16\\u7801\",width:100},{prop:\"Unit\",label:\"\\u5355\\u4f4d\",width:100},{prop:\"SurfaceTreatment\",label:\"\\u8868\\u9762\\u5904\\u7406\",width:300},{prop:\"PerformanceLevel\",label:\"\\u6027\\u80fd\\u7b49\\u7ea7\",width:100},{prop:\"StandardNumber\",label:\"\\u6807\\u51c6\\u53f7\",width:100},{prop:\"Features\",label:\"\\u5178\\u578b\\u7279\\u5f81\",width:300},{prop:\"purpose\",label:\"\\u7528\\u9014\",width:300},{prop:\"Remark\",label:\"\\u5907\\u6ce8\",width:100},{prop:\"FNote\",label:\"\\u9884\\u8ba1\\u4ef7\\u683c\",width:100}]}),submit:function(t){var a=this,e=t.detail.value,o={Title:e.title,Remark:e.remark};if(2!=this.data.nodeid)this.aggreSubmit(o);else{var r=!0,i=!1,n=void 0;try{for(var l,s=this.data.tableData[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){if(!l.value.CodeNumber)return void dd.alert({content:\"\\u60a8\\u8fd8\\u6709\\u7269\\u6599\\u7f16\\u7801\\u672a\\u586b\"})}}catch(t){i=!0,n=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw n}}this.requestJsonData(\"POST\",\"ItemCodeAdd/TableModify\",function(t){var e=\"/ItemCodeAdd/InsertPurcahse\";\"2\"==a.data.codeType&&(e=\"/ItemCodeAdd/InsertOffice\"),a.requestJsonData(\"POST\",e,function(t){a.aggreSubmit(o)},JSON.stringify(a.data.tableData))},JSON.stringify(this.data.tableData))}},addGood:function(t){var e=t.detail.value;if(console.log(e),e&&e.CodeNumber){var a=!0,o=!1,r=void 0;try{for(var i,n=this.data.tableData[Symbol.iterator]();!(a=(i=n.next()).done);a=!0){var l=i.value;l.Name==s.Name&&(l.CodeNumber=e.CodeNumber,l.FNote=e.FNote)}}catch(t){o=!0,r=t}finally{try{!a&&n.return&&n.return()}finally{if(o)throw r}}console.log(this.data.tableData),this.setData({tableData:this.data.tableData}),this.onModalCloseTap2()}else dd.alert({content:\"\\u8868\\u5355\\u586b\\u5199\\u4e0d\\u5b8c\\u6574\"})},radioChange:function(t){this.data.codeType=t.detail.codeType},onModalCloseTap2:function(){var t=this;this.createMaskHideAnim(),this.createContentHideAnim(),setTimeout(function(){t.setData({hidden2:!0})},210)},chooseItem:function(t){t&&(console.log(t),(s=t.target.targetDataset.row)&&(this.setData({hidden2:!this.data.hidden2}),this.createMaskShowAnim(),this.createContentShowAnim()))},onReady:function(){console.log(this.data.tableInfo)}}))},function(t,e,a){\"use strict\";var o=n(a(2)),r=n(a(0)),i=n(a(1));function n(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/start/meterieCode/meterieCode\",usingComponents:{table:\"/util/table/table\",column:\"/util/table/column/column\"}};Page((0,r.default)({},i.default.func,i.default.func.start,{data:(0,r.default)({},i.default.data,{hidden:!0,tableOperate:\"\\u5220\\u9664\",tableData:[],good:{},bigIndex:-1,smallIndex:-1,bigCodes:[{materialCodeNumber:1,materialName:\"\"}],bigCodes2:[{materialCodeNumber:\"60\",materialName:\"\\u529e\\u516c\\u7528\\u54c1\",smallMaterialCodes:[{materialCodeNumber:\"000\",materialName:\"\\u6587\\u4ef6\\u6863\\u6848\\u7ba1\\u7406\\u7c7b\"},{materialCodeNumber:\"001\",materialName:\"\\u684c\\u9762\\u7528\\u54c1\"},{materialCodeNumber:\"002\",materialName:\"\\u529e\\u516c\\u672c\\u8584\"},{materialCodeNumber:\"003\",materialName:\"\\u4e66\\u5199\\u4fee\\u6b63\\u7528\\u54c1\"},{materialCodeNumber:\"004\",materialName:\"\\u8d22\\u52a1\\u7528\\u54c1\"},{materialCodeNumber:\"005\",materialName:\"\\u8f85\\u52a9\\u7528\\u54c1\"},{materialCodeNumber:\"006\",materialName:\"\\u7535\\u8111\\u5468\\u8fb9\\u7528\\u54c1\"},{materialCodeNumber:\"040\",materialName:\"\\u6253\\u5370\\u8017\\u6750\"},{materialCodeNumber:\"041\",materialName:\"\\u88c5\\u8ba2\\u8017\\u6750\"},{materialCodeNumber:\"042\",materialName:\"\\u529e\\u516c\\u7528\\u7eb8\"},{materialCodeNumber:\"043\",materialName:\"IT\\u8017\\u6750\"},{materialCodeNumber:\"080\",materialName:\"\\u65e5\\u7528\\u54c1\"},{materialCodeNumber:\"081\",materialName:\"\\u6e05\\u6d01\\u7528\\u54c1\"},{materialCodeNumber:\"120\",materialName:\"\\u4e8b\\u52a1\\u8bbe\\u5907\"},{materialCodeNumber:\"121\",materialName:\"IT\\u8bbe\\u5907\"},{materialCodeNumber:\"122\",materialName:\"\\u529e\\u516c\\u7535\\u5668\"},{materialCodeNumber:\"160\",materialName:\"\\u529e\\u516c\\u5bb6\\u5177\"}]}],smallMaterialCodes:[],codeType:\"1\",tableItems:[{prop:\"Name\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:300},{prop:\"BigCodeName\",label:\"\\u5927\\u7c7b\\u540d\\u79f0\",width:200},{prop:\"BigCode\",label:\"\\u5927\\u7c7b\\u7f16\\u7801\",width:200},{prop:\"SmallCodeName\",label:\"\\u5c0f\\u7c7b\\u540d\\u79f0\",width:200},{prop:\"SmallCode\",label:\"\\u5c0f\\u7c7b\\u7f16\\u7801\",width:200},{prop:\"Standard\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"Unit\",label:\"\\u5355\\u4f4d\",width:200},{prop:\"SurfaceTreatment\",label:\"\\u8868\\u9762\\u5904\\u7406\",width:200},{prop:\"PerformanceLevel\",label:\"\\u6027\\u80fd\\u7b49\\u7ea7\",width:200},{prop:\"StandardNumber\",label:\"\\u6807\\u51c6\\u53f7\",width:200},{prop:\"Features\",label:\"\\u5178\\u578b\\u7279\\u5f81\",width:200},{prop:\"purpose\",label:\"\\u7528\\u9014\",width:200},{prop:\"Remark\",label:\"\\u5907\\u6ce8\",width:100}]}),submit:function(t){var e=this,a=t.detail.value;console.log(\"asdasdsss\"),console.log(t.detail.value);var o={Title:a.title,Remark:a.remark};console.log(o),this.approvalSubmit(o,function(t){e.bindAll(t)})},bindAll:function(t){var e=this,a=[],o=!0,r=!1,i=void 0;try{for(var n,l=e.data.tableData[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value;s.TaskId=t,a.push(s)}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}e.requestJsonData(\"POST\",\"ItemCodeAdd/TableSave\",function(t){e.doneSubmit()},JSON.stringify(a))},radioChange:function(t){this.setData({tableData:[]}),this.data.codeType=t.detail.value,this.getMaterielCode()},getMaterielCode:function(){var e=this,t=\"\";console.log(this.data.codeType),console.log(this.data.bigCodes),\"2\"==this.data.codeType?this.setData({bigCodes:this.data.bigCodes2}):\"1\"==this.data.codeType&&(t=\"/ItemCodeAdd/GetAllMaterialCode\",this._getData(t,function(t){console.log(t),e.setData({bigCodes:t})}))},asd:function(){console.log(\"\\u53d1\\u751f\\u4e86\\u91cd\\u7f6e\")},changeBigCode:function(t){var e=t.detail.value;console.log(\"changeBigCode\"),console.log(this.data.codeType),e!=this.data.bigIndex&&this.setData({bigIndex:e,smallIndex:0,smallMaterialCodes:this.data.bigCodes[e].smallMaterialCodes})},changeSmallCode:function(t){console.log(\"changeSmallCode\");var e=t.detail.value;this.setData({smallIndex:e})},chooseItem:function(t){this.setData({hidden:!this.data.hidden}),this.createMaskShowAnim(),this.createContentShowAnim()},deleteItem:function(t){if(t){console.log(t);var e=t.target.targetDataset.index;!e&&0!=e||(console.log(this.data.tableData),this.data.tableData.splice(e,1),this.setData({tableData:this.data.tableData}),console.log(this.data.tableData))}},addGood:function(t){var e=t.detail.value;if(console.log(t),console.log(e),console.log(!e),console.log(!e.Name),console.log(!e.Standard),console.log(this.data.bigIndex),console.log(this.data.smallIndex),!e||!e.Name||!e.Standard||this.data.bigIndex<0||this.data.smallIndex<0)dd.alert({content:\"\\u8868\\u5355\\u586b\\u5199\\u4e0d\\u5b8c\\u6574\"});else{e.BigCodeName=this.data.bigCodes[this.data.bigIndex].materialName,e.BigCode=this.data.bigCodes[this.data.bigIndex].materialCodeNumber,e.SmallCodeName=this.data.smallMaterialCodes[this.data.smallIndex].materialName,e.SmallCode=this.data.smallMaterialCodes[this.data.smallIndex].materialCodeNumber,console.log(e);var a=this.data.tableData.length;this.setData((0,o.default)({},\"tableData[\"+a+\"]\",e))}},onShow:function(){this.getMaterielCode()}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approveDetail/officePurchase/officePurchase\",usingComponents:{table:\"/util/table/table\",column:\"/util/table/column/column\"}},Page((0,o.default)({},r.default.func,r.default.func.dowith,{data:(0,o.default)({},r.default.data,{hidden:!0,dataList:[],deletedList:[],totalPrice:0,tableOperate:\"\\u5220\\u9664\",tableParam:{size:5e3,now:1,total:0},tableItems:[{prop:\"CodeNo\",label:\"\\u7269\\u6599\\u7f16\\u7801\",width:200},{prop:\"Name\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:300},{prop:\"Standard\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"Unit\",label:\"\\u5355\\u4f4d\",width:100},{prop:\"Price\",label:\"\\u9884\\u8ba1\\u5355\\u4ef7\",width:100},{prop:\"Count\",label:\"\\u6570\\u91cf\",width:100},{prop:\"totalPrice\",label:\"\\u603b\\u4ef7\",width:200},{prop:\"Purpose\",label:\"\\u7528\\u9014\",width:300}]}),submit:function(t){var e=this,a=t.detail.value,o={Title:a.title,Remark:a.remark};if(2==this.data.nodeid){var r=[],i=!0,n=!1,l=void 0;try{for(var s,d=this.data.deletedList[Symbol.iterator]();!(i=(s=d.next()).done);i=!0){var u=s.value;u.IsDelete=!0,r.push(u)}}catch(t){n=!0,l=t}finally{try{!i&&d.return&&d.return()}finally{if(n)throw l}}var c=!0,h=!1,f=void 0;try{for(var p,g=this.data.dataList[Symbol.iterator]();!(c=(p=g.next()).done);c=!0){var m=p.value,b=!0,v=!1,y=void 0;try{for(var w,D=m.value[Symbol.iterator]();!(b=(w=D.next()).done);b=!0){var I=w.value;r.push(I)}}catch(t){v=!0,y=t}finally{try{!b&&D.return&&D.return()}finally{if(v)throw y}}}}catch(t){h=!0,f=t}finally{try{!c&&g.return&&g.return()}finally{if(h)throw f}}return console.log(r),void this._postData(\"OfficeSuppliesPurchase/ModifyTable\",function(t){e.aggreSubmit(o)},r)}this.aggreSubmit(o)},print:function(){this._postData(\"OfficeSuppliesPurchase/PrintPDF\",function(t){dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\"})},{UserId:this.data.DingData.userid,TaskId:this.data.taskid})},deleteItem:function(t){if(t){var e=t.target.targetDataset.row,a=t.target.targetDataset.index;if(console.log(e),a||0==a){var o=!0,r=!1,i=void 0;try{for(var n,l=this.data.dataList[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value;s.name==e.Dept&&(this.data.totalPrice-=parseInt(e.Price*e.Count),s.tmpTotalPrice-=parseInt(e.Price*e.Count),this.data.deletedList.push(s.value.splice(a,1)[0]))}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}this.setData({dataList:this.data.dataList}),console.log(this.data.dataList),console.log(this.data.deletedList)}}},getBomInfo:function(){var C=this;this.requestData(\"GET\",\"OfficeSuppliesPurchase/ReadTable?TaskId=\"+this.data.taskid,function(t){C.data.dataList=[];var e=[],a=\"\";t=JSON.parse(t.data);var o=!0,r=!1,i=void 0;try{for(var n,l=t[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value;s.Dept&&a.indexOf(s.Dept)<0&&(a=a+s.Dept+\",\")}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}e=(a=a.substring(0,a.length-1)).split(\",\"),console.log(e);var d=!0,u=!1,c=void 0;try{for(var h,f=e[Symbol.iterator]();!(d=(h=f.next()).done);d=!0){var p=h.value;C.data.dataList.push({name:p,value:[],tmpTotalPrice:0})}}catch(t){u=!0,c=t}finally{try{!d&&f.return&&f.return()}finally{if(u)throw c}}var g=!0,m=!1,b=void 0;try{for(var v,y=t[Symbol.iterator]();!(g=(v=y.next()).done);g=!0){var w=v.value,D=!0,I=!1,P=void 0;try{for(var S,T=C.data.dataList[Symbol.iterator]();!(D=(S=T.next()).done);D=!0){var _=S.value;if(w.Dept==_.name){w.totalPrice=parseInt(w.Price*w.Count),_.value.push(w),_.tmpTotalPrice+=parseInt(w.Price*w.Count),C.data.totalPrice+=parseInt(w.Price*w.Count);break}}}catch(t){I=!0,P=t}finally{try{!D&&T.return&&T.return()}finally{if(I)throw P}}}}catch(t){m=!0,b=t}finally{try{!g&&y.return&&y.return()}finally{if(m)throw b}}C.setData({dataList:C.data.dataList,totalPrice:C.data.totalPrice})})}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approveDetail/crossHelp/crossHelp\",usingComponents:{}},Page((0,o.default)({},r.default.func,r.default.func.dowith,{data:(0,o.default)({},r.default.data,{table:{}}),submit:function(t){var e=this,a=t.detail.value,o={Remark:a.remark};a.FactBeginTime&&a.FactEndTime&&a.FactDays&&a.FactCooperateContent&&a.FactCooperateMan||4!=this.data.nodeid?(4==this.data.nodeid&&(this.data.table.FactBeginTime=a.FactBeginTime,this.data.table.FactEndTime=a.FactEndTime,this.data.table.FactDays=a.FactDays,this.data.table.FactCooperateContent=a.FactCooperateContent,this.data.addPeopleNodes=[6]),this.setData({disablePage:!0}),this._postData(\"Cooperate/Modify\",function(t){e.aggreSubmit(o)},this.data.table)):dd.alert({content:\"\\u8868\\u5355\\u672a\\u586b\\u5199\\u5b8c\\u6574\"})},choosePeoples:function(t){var c=this;dd.complexChoose((0,o.default)({},c.chooseParam,{multiple:!0,success:function(t){var e=[],a=[],o=!0,r=!1,i=void 0;try{for(var n,l=t.users[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value;e.push(s.name),a.push(s.userId)}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}for(var d=[],u=0;u<e.length;u++)d.push({name:e[u],userId:a[u]});c.data.nodeList[6].AddPeople=d,console.log(c.data.nodeList),c.setData({\"table.FactCooperateMan\":e.join(\",\"),\"table.FactCooperateManId\":a.join(\",\"),nodeList:c.data.nodeList})},fail:function(t){}}))},onReady:function(){var r=this,i=this;this._getData(\"Cooperate/Read\"+this.formatQueryStr({TaskId:this.data.taskid}),function(t){if(1==r.data.nodeid&&(t.FactBeginTime=t.PlanBeginTime,t.FactEndTime=t.PlanEndTime,t.FactDays=t.PlanDays,t.FactCooperateContent=t.CooperateContent,t.FactCooperateMan=t.CooperateMan),4==r.data.nodeid)for(var e=t.CooperateMan.split(\",\"),a=t.CooperateManId.split(\",\"),o=0;o<e.length;o++)i.data.nodeList[6].AddPeople.push({name:e[o],userId:a[o]});r.setData({table:t,nodeList:i.data.nodeList})})}}))},function(t,e,a){\"use strict\";var o=n(a(81)),r=n(a(0)),i=n(a(1));function n(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/start/crossHelp/crossHelp\",usingComponents:{}};Page((0,r.default)({},i.default.func,i.default.func.start,{data:(0,r.default)({},i.default.data,{addPeopleNodes:[4,6]}),submit:function(t){var e=this,a=t.detail.value;if(a.CooperateDept=this.data.DeptNames[this.data.departIndex],a.CooperateManId=this.data.tableInfo.CooperateManId,a.CooperateMan=this.data.tableInfo.CooperateMan,console.log(a),\"\"!=a.CooperateDept&&void 0!=a.CooperateMan&&\"\"!=a.PlanBeginTime&&\"\"!=a.PlanEndTime&&\"\"!=a.CooperateContent&&\"\"!=a.PlanDays){this.data.nodeList[4].AddPeople=this.data.nodeList[2].AddPeople,this.data.nodeList[6].AddPeople=[].concat((0,o.default)(this.data.nodeList[1].AddPeople),(0,o.default)(this.data.nodeList[2].AddPeople)),this.approvalSubmit({Title:a.Title,Remark:a.remark},function(t){a.TaskId=t,e._postData(\"Cooperate/Save\",function(t){e.doneSubmit()},a)})}else dd.alert({content:\"\\u8868\\u5355\\u672a\\u586b\\u5199\\u5b8c\\u6574\"})},choosePeopleOne:function(t){var d=this;dd.complexChoose((0,r.default)({},d.chooseParam,{multiple:!0,success:function(t){var e=[],a=[],o=!0,r=!1,i=void 0;try{for(var n,l=t.users[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value;e.push(s.name),a.push(s.userId)}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}console.log(e),console.log(a),d.setData({\"tableInfo.CooperateMan\":e.join(\",\"),\"tableInfo.CooperateManId\":a.join(\",\")})},fail:function(t){}}))},bindDeptChange:function(t){this.setData({departIndex:t.detail.value})}}))},function(t,e,a){\"use strict\";e.__esModule=!0;var o,r=a(82),i=(o=r)&&o.__esModule?o:{default:o};e.default=function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return(0,i.default)(t)}},function(t,e,a){t.exports={default:a(83),__esModule:!0}},function(t,e,a){a(84),a(93),t.exports=a(4).Array.from},function(t,e,a){\"use strict\";var o=a(85)(!0);a(86)(String,\"String\",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,a=this._i;return a>=e.length?{value:void 0,done:!0}:(t=o(e,a),this._i+=t.length,{value:t,done:!1})})},function(t,e,a){var s=a(16),d=a(15);t.exports=function(l){return function(t,e){var a,o,r=String(d(t)),i=s(e),n=r.length;return i<0||i>=n?l?\"\":void 0:(a=r.charCodeAt(i))<55296||a>56319||i+1===n||(o=r.charCodeAt(i+1))<56320||o>57343?l?r.charAt(i):a:l?r.slice(i,i+2):o-56320+(a-55296<<10)+65536}}},function(t,e,a){\"use strict\";function y(){return this}var w=a(29),D=a(8),I=a(87),P=a(9),S=a(19),T=a(88),_=a(32),C=a(92),k=a(3)(\"iterator\"),N=!([].keys&&\"next\"in[].keys()),M=\"values\";t.exports=function(t,e,a,o,r,i,n){T(a,e,o);function l(t){if(!N&&t in p)return p[t];switch(t){case\"keys\":case M:return function(){return new a(this,t)}}return function(){return new a(this,t)}}var s,d,u,c=e+\" Iterator\",h=r==M,f=!1,p=t.prototype,g=p[k]||p[\"@@iterator\"]||r&&p[r],m=g||l(r),b=r?h?l(\"entries\"):m:void 0,v=\"Array\"==e&&p.entries||g;if(v&&(u=C(v.call(new t)))!==Object.prototype&&u.next&&(_(u,c,!0),w||\"function\"==typeof u[k]||P(u,k,y)),h&&g&&g.name!==M&&(f=!0,m=function(){return g.call(this)}),w&&!n||!N&&!f&&p[k]||P(p,k,m),S[e]=m,S[c]=y,r)if(s={values:h?m:l(M),keys:i?m:l(\"keys\"),entries:b},n)for(d in s)d in p||I(p,d,s[d]);else D(D.P+D.F*(N||f),e,s);return s}},function(t,e,a){t.exports=a(9)},function(t,e,a){\"use strict\";var o=a(89),r=a(14),i=a(32),n={};a(9)(n,a(3)(\"iterator\"),function(){return this}),t.exports=function(t,e,a){t.prototype=o(n,{next:r(1,a)}),i(t,e+\" Iterator\")}},function(t,e,o){function r(){}var i=o(10),n=o(90),l=o(31),s=o(17)(\"IE_PROTO\"),d=\"prototype\",u=function(){var t,e=o(22)(\"iframe\"),a=l.length;for(e.style.display=\"none\",o(91).appendChild(e),e.src=\"javascript:\",(t=e.contentWindow.document).open(),t.write(\"<script>document.F=Object<\\/script>\"),t.close(),u=t.F;a--;)delete u[d][l[a]];return u()};t.exports=Object.create||function(t,e){var a;return null!==t?(r[d]=i(t),a=new r,r[d]=null,a[s]=t):a=u(),void 0===e?a:n(a,e)}},function(t,e,a){var n=a(7),l=a(10),s=a(23);t.exports=a(5)?Object.defineProperties:function(t,e){l(t);for(var a,o=s(e),r=o.length,i=0;r>i;)n.f(t,a=o[i++],e[a]);return t}},function(t,e,a){var o=a(6).document;t.exports=o&&o.documentElement},function(t,e,a){var o=a(11),r=a(18),i=a(17)(\"IE_PROTO\"),n=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),o(t,i)?t[i]:\"function\"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?n:null}},function(t,e,a){\"use strict\";var p=a(21),o=a(8),g=a(18),m=a(94),b=a(95),v=a(27),y=a(96),w=a(97);o(o.S+o.F*!a(99)(function(t){Array.from(t)}),\"Array\",{from:function(t,e,a){var o,r,i,n,l=g(t),s=\"function\"==typeof this?this:Array,d=arguments.length,u=d>1?e:void 0,c=void 0!==u,h=0,f=w(l);if(c&&(u=p(u,d>2?a:void 0,2)),void 0==f||s==Array&&b(f))for(r=new s(o=v(l.length));o>h;h++)y(r,h,c?u(l[h],h):l[h]);else for(n=f.call(l),r=new s;!(i=n.next()).done;h++)y(r,h,c?m(n,u,[i.value,h],!0):i.value);return r.length=h,r}})},function(t,e,a){var i=a(10);t.exports=function(e,t,a,o){try{return o?t(i(a)[0],a[1]):t(a)}catch(t){var r=e.return;throw void 0!==r&&i(r.call(e)),t}}},function(t,e,a){var o=a(19),r=a(3)(\"iterator\"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||i[r]===t)}},function(t,e,a){\"use strict\";var o=a(7),r=a(14);t.exports=function(t,e,a){e in t?o.f(t,e,r(0,a)):t[e]=a}},function(t,e,a){var o=a(98),r=a(3)(\"iterator\"),i=a(19);t.exports=a(4).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t[\"@@iterator\"]||i[o(t)]}},function(t,e,a){var r=a(26),i=a(3)(\"toStringTag\"),n=\"Arguments\"==r(function(){return arguments}());t.exports=function(t){var e,a,o;return void 0===t?\"Undefined\":null===t?\"Null\":\"string\"==typeof(a=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?a:n?r(e):\"Object\"==(o=r(e))&&\"function\"==typeof e.callee?\"Arguments\":o}},function(t,e,a){var i=a(3)(\"iterator\"),n=!1;try{var o=[7][i]();o.return=function(){n=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!n)return!1;var a=!1;try{var o=[7],r=o[i]();r.next=function(){return{done:a=!0}},o[i]=function(){return r},t(o)}catch(t){}return a}},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approveDetail/changePaper/changePaper\",usingComponents:{}},Page((0,o.default)({},r.default.func,r.default.func.dowith,{data:(0,o.default)({},r.default.data,{hidden:!0,totalPrice:\"0\",tableItems:[{prop:\"ChangeType\",label:\"\\u64cd\\u4f5c\",width:100},{prop:\"Sorts\",label:\"\\u7c7b\\u522b\",width:100},{prop:\"DrawingNo\",label:\"\\u4ee3\\u53f7\",width:300},{prop:\"Name\",label:\"\\u540d\\u79f0\",width:300},{prop:\"Count\",label:\"\\u6570\\u91cf\",width:100},{prop:\"MaterialScience\",label:\"\\u6750\\u6599\",width:200},{prop:\"Unit\",label:\"\\u5355\\u4f4d\",width:100},{prop:\"SingleWeight\",label:\"\\u5355\\u91cd\",width:100},{prop:\"AllWeight\",label:\"\\u603b\\u91cd\",width:100},{prop:\"NeedTime\",label:\"\\u9700\\u7528\\u65e5\\u671f\",width:200},{prop:\"Mark\",label:\"\\u5907\\u6ce8\",width:300}],imageList:[],fileList:[],pdfList:[]}),submit:function(t){var e=this,a={Remark:t.detail.value.remark};5!=this.data.nodeid?this.aggreSubmit(a):this._postData(\"DrawingChange/ChangeBom\",function(t){e.aggreSubmit(a)},this.data.tableData)},print:function(){this._postData(\"DrawingChange/PrintAndSend\",function(t){dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\\uff0c\\u8bf7\\u5728\\u9489\\u9489\\u5de5\\u4f5c\\u901a\\u77e5\\u4e2d\\u67e5\\u6536\"})},{UserId:this.data.DingData.userid,TaskId:this.data.taskid,OldPath:this.data.FilePDFUrl.replace(/\\\\/g,\"\\\\\\\\\")})},output:function(){this._getData(\"NewsAndCases/GetAllPDF\"+this.formatQueryStr({ApplyManId:this.data.DingData.userid,taskId:this.data.taskid}),function(t){dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\\uff0c\\u8bf7\\u5728\\u9489\\u9489\\u5de5\\u4f5c\\u901a\\u77e5\\u4e2d\\u67e5\\u6536\"})})},setPdfState:function(t){var e=t.target.dataset.index;\"1\"==this.data.pdfList[e].state?this.data.pdfList[e].state=\"0\":this.data.pdfList[e].state=\"1\",this.setData({pdfList:this.data.pdfList});var a=[],o=!0,r=!1,i=void 0;try{for(var n,l=this.data.pdfList[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value;a.push(s.state)}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}var d=\"FileNew/UpdatePDFState?TaskId=\"+this.data.taskid+\"&PDFState=\"+a.join(\",\");this._getData(d,function(t){})}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approveDetail/techonologySupply/techonologySupply\",usingComponents:{}},Page((0,o.default)({},r.default.func,r.default.func.dowith,{data:(0,o.default)({},r.default.data,{addPeopleNodes:[],table:{},show:!0}),submit:function(t){var e=this,a=this,o=t.detail.value,r={Remark:o.remark};if(o.TeamMembers&&o.StartTime&&o.EndTime&&o.TechnicalProposal&&o.ProjectName||1!=this.data.nodeid){if(1==this.data.nodeid&&(this.data.table.TeamMembers=o.TeamMembers,this.data.table.StartTime=o.StartTime,this.data.table.EndTime=o.EndTime,this.data.table.TechnicalProposal=o.TechnicalProposal,this.data.table.ProjectName=o.ProjectName),4==this.data.nodeid){if(!o.ProjectNo)return void dd.alert({content:\"\\u8868\\u5355\\u672a\\u586b\\u5199\\u5b8c\\u6574\"});this.data.table.ProjectNo=o.ProjectNo,this.data.table.IsCreateProject=!0;var i={CreateTime:this._getTime(),IsEnable:!0,ProjectState:\"\\u5728\\u7814\",IsFinish:!1,ApplyMan:this.data.nodeInfo.NodePeople,ApplyManId:this.data.nodeInfo.PeopleId,StartTime:this.data.table.StartTime,EndTime:this.data.table.EndTime,TeamMembers:this.data.table.TeamMembers,TeamMembersId:this.data.table.TeamMembersId,ProjectName:this.data.table.ProjectName,ProjectId:o.ProjectNo,CompanyName:this.data.table.CompanyName,CooperativeUnit:this.data.table.Customer,DeptName:this.data.table.DeptName,ProjectType:this.data.table.ProjectType,ProjectSmallType:\"\\u6d4b\\u8bd5\",ResponsibleMan:this.data.table.ResponsibleMan,ResponsibleManId:this.data.table.ResponsibleManId,ProjectFileUrl:\"\"};return console.log(i),this.setData({disablePage:!0}),void this._postData(\"TechnicalSupport/Modify\",function(t){e._postData(\"ProjectNew/AddProject\",function(t){a.aggreSubmit(r)},[i])},this.data.table)}this.setData({disablePage:!0}),this._postData(\"TechnicalSupport/Modify\",function(t){a.aggreSubmit(r)},this.data.table)}else dd.alert({content:\"\\u8868\\u5355\\u672a\\u586b\\u5199\\u5b8c\\u6574\"})},print:function(){this._postData(\"TechnicalSupport/PrintAndSend\",function(t){dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\\uff0c\\u8bf7\\u5728\\u9489\\u9489\\u5de5\\u4f5c\\u901a\\u77e5\\u4e2d\\u67e5\\u6536\"})},{UserId:this.data.DingData.userid,TaskId:this.data.taskid})},choosePeoples:function(t){this.data.addPeopleNodes=[5];var u=this;dd.complexChoose((0,o.default)({},u.chooseParam,{multiple:!0,success:function(t){var e=[],a=[],o=[],r=!0,i=!1,n=void 0;try{for(var l,s=t.users[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var d=l.value;e.push(d.name),a.push(d.userId),o.push({name:d.name,userId:d.userId})}}catch(t){i=!0,n=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw n}}u.setData({\"nodeList[5].AddPeople\":o,\"table.TeamMembers\":e.join(\",\"),\"table.TeamMembersId\":a.join(\",\")}),console.log(u.data.nodeList[5])},fail:function(t){}}))},onReady:function(){var a=this;this._getData(\"TechnicalSupport/Read\"+this.formatQueryStr({TaskId:this.data.taskid}),function(t){for(var e in t)null===t[e]&&(t[e]=\"\");a.setData({table:t})})},getNodeList_done:function(t){console.log(t);var e=!0,a=!1,o=void 0;try{for(var r,i=t[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var n=r.value;\"\\u6284\\u9001\"==n.NodeName&&-1!==n.NodePeople.indexOf(this.data.DingData.nickName)&&this.setData({show:!1})}}catch(t){a=!0,o=t}finally{try{!e&&i.return&&i.return()}finally{if(a)throw o}}}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/start/letGoodsGo/letGoodsGo\",usingComponents:{}};Page((0,o.default)({},r.default.func,r.default.func.start,{data:(0,o.default)({},r.default.data,{companyIndex:0,imgUrlList:[],disablePage:!1}),submit:function(t){var e=this,a=t.detail.value;if(a.Company=this.data.CompanyNames[this.data.companyIndex],this.data.imgUrlList.length<1)dd.alert({content:\"\\u9700\\u8981\\u4e0a\\u4f20\\u56fe\\u7247\"});else if(a.Company&&a.Tel&&a.Name&&a.Count&&a.Unit&&a.Cause&&a.Date){a.ImageUrl=this.data.imgUrlList.join(\",\"),this.approvalSubmit(a,function(t){console.log(\"\\u63d0\\u4ea4\\u5ba1\\u6279ok!\"),a.TaskId=t,e._postData(\"MaterialRelease/Save\",function(t){e.doneSubmit()},a)})}else dd.alert({content:\"\\u8868\\u5355\\u672a\\u586b\\u5199\\u5b8c\\u6574\"})},changeCompany:function(t){this.setData({companyIndex:t.detail.value})}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approveDetail/letGoodsGo/letGoodsGo\",usingComponents:{}},Page((0,o.default)({},r.default.func,r.default.func.dowith,{data:(0,o.default)({},r.default.data,{table:{}}),submit:function(t){var e={Remark:t.detail.value.remark};this.aggreSubmit(e)},print:function(){this._postData(\"MaterialRelease/PrintAndSend\",function(t){dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\\uff0c\\u8bf7\\u5728\\u9489\\u9489\\u5de5\\u4f5c\\u901a\\u77e5\\u4e2d\\u67e5\\u6536\"})},{UserId:this.data.DingData.userid,TaskId:this.data.taskid})},onReady:function(){var a=this;this._getData(\"MaterialRelease/Read\"+this.formatQueryStr({TaskId:this.data.taskid}),function(t){for(var e in t)null===t[e]&&(t[e]=\"\");a.setData({table:t})})}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/start/intellectualProperty/intellectualProperty\",usingComponents:{}};Page((0,o.default)({},r.default.func,r.default.func.start,{data:(0,o.default)({},r.default.data,{disablePage:!1,addPeopleNodes:[2,5],managers:[{name:\"\\u5f90\\u4e3d\\u534e\",userId:\"15543527578095619\"},{name:\"\\u9648\\u601d\\u6768\",userId:\"15545554432996107\"}]}),submit:function(t){var e=this,a=t.detail.value;if(a.Type=this.data.IntellectualPropertyTypes[this.data.stateIndex],a.Project=this.data.projectList[this.data.projectIndex].ProjectName,a.ProjectNo=this.data.projectList[this.data.projectIndex].ProjectId,a.ProjectId=this.data.projectList[this.data.projectIndex].ProjectId,a.ProjectName=this.data.projectList[this.data.projectIndex].ProjectName,a.InventorId=this.data.tableInfo.InventorId,a.ActualInventor=this.data.tableInfo.ActualInventor,a.ActualInventorId=this.data.tableInfo.ActualInventorId,\"\"==a.Type||\"\"==a.ProjectNo||\"\"==a.InventorId||\"\"==a.Name)return console.log(a),void dd.alert({content:\"\\u8868\\u5355\\u672a\\u586b\\u5199\\u5b8c\\u6574\"});\"\\u8f6f\\u4ef6\\u8457\\u4f5c\\u6743\"==a.Type?this.data.nodeList[5].AddPeople=[this.data.managers[1]]:this.data.nodeList[5].AddPeople=[this.data.managers[0]],console.log(a),console.log(this.data.nodeList);this.approvalSubmit(a,function(t){console.log(\"\\u63d0\\u4ea4\\u5ba1\\u6279ok!\"),a.TaskId=t,e._postData(\"IntellectualProperty/Save\",function(t){e.doneSubmit()},a)},a.ProjectId)},chooseMans:function(t){var d=this;dd.complexChoose((0,o.default)({},d.chooseParam,{multiple:!0,success:function(t){console.log(t);var e=[],a=[],o=!0,r=!1,i=void 0;try{for(var n,l=t.users[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value;e.push(s.name),a.push(s.userId)}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}d.setData({\"tableInfo.Inventor\":e.join(\",\"),\"tableInfo.InventorId\":a.join(\",\"),\"tableInfo.ActualInventor\":e.join(\",\"),\"tableInfo.ActualInventorId\":a.join(\",\")})}}))},changeState:function(t){console.log(t.detail.value);var e=this.data.IntellectualPropertyTypes[t.detail.value];this.data.nodeList[5].AddPeople=\"\\u8f6f\\u4ef6\\u8457\\u4f5c\\u6743\"==e?[this.data.managers[1]]:[this.data.managers[0]],this.setData({stateIndex:t.detail.value,nodeList:this.data.nodeList})},changeCompany:function(t){this.setData({companyIndex:t.detail.value})},changeDept:function(t){this.setData({deptIndex:t.detail.value})},changeType:function(t){this.setData({typeIndex:t.detail.value})}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approveDetail/intellectualProperty/intellectualProperty\",usingComponents:{}},Page((0,o.default)({},r.default.func,r.default.func.dowith,{data:(0,o.default)({},r.default.data,{addPeopleNodes:[],table:{}}),submit:function(t){var e=this,a=t.detail.value,o={Remark:a.remark};if((!a.ActualInventor||!a.ActualName)&&5==this.data.nodeid)return console.log(a),void dd.alert({content:\"\\u8868\\u5355\\u672a\\u586b\\u5199\\u5b8c\\u6574\"});5==this.data.nodeid&&(this.data.table.ActualName=a.ActualName,this.data.table.Company=this.data.CompanyNames[this.data.companyIndex],this.data.table.ActualType=this.data.IntellectualPropertyTypes[this.data.iptIndex]),this.setData({disablePage:!0}),this._postData(\"IntellectualProperty/Modify\",function(t){e.aggreSubmit(o)},this.data.table)},print:function(){this._postData(\"IntellectualProperty/PrintAndSend\",function(t){dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\\uff0c\\u8bf7\\u5728\\u9489\\u9489\\u5de5\\u4f5c\\u901a\\u77e5\\u4e2d\\u67e5\\u6536\"})},{UserId:this.data.DingData.userid,TaskId:this.data.taskid})},changeIptIndex:function(t){this.setData({stateIndex:t.detail.value})},changeCompany:function(t){this.setData({companyIndex:t.detail.value})},choosePeoples:function(t){this.data.addPeopleNodes=[5];var d=this;dd.complexChoose((0,o.default)({},d.chooseParam,{multiple:!0,success:function(t){var e=[],a=[],o=!0,r=!1,i=void 0;try{for(var n,l=t.users[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value;e.push(s.name),a.push(s.userId)}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}d.setData({\"table.ActualInventor\":e.join(\",\"),\"table.ActualInventorId\":a.join(\",\")})},fail:function(t){}}))},onReady:function(){var i=this;this._getData(\"IntellectualProperty/Read\"+this.formatQueryStr({TaskId:this.data.taskid}),function(t){for(var e in t)null===t[e]&&(t[e]=\"\");console.log(\"asdasda\"),console.log(t);for(var a=0,o=0,r=i.data.IntellectualPropertyTypes.length;o<r;o++)t.Type==i.data.IntellectualPropertyTypes[o]&&(a=o);i.setData({stateIndex:a,table:t})})}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approveDetail/sendRead/sendRead\",usingComponents:{}},Page({data:{},onLoad:function(){}}),Page((0,o.default)({},r.default.func,r.default.func.dowith,{data:(0,o.default)({},r.default.data,{hidden:!0,imageList:[],fileList:[],pdfList:[]}),submit:function(t){var e=this,a=t.detail.value,o={Remark:a.remark};this.data.table.Suggestion=a.Suggestion,this.data.table.Leadership=a.Leadership,this._postData(\"Receiving/Modify\",function(t){e.aggreSubmit(o)},this.data.table)},onReady:function(){var a=this;this._getData(\"Receiving/Read\"+this.formatQueryStr({TaskId:this.data.taskid}),function(t){for(var e in t[0])null===t[0][e]&&(t[0][e]=\"\");console.log(\"2333333333333\"),console.log(t[0]),a.setData({table:t[0]})})}}))},function(t,e,a){\"use strict\";var d=i(a(2)),o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/start/borrowThing/borrowThing\",usingComponents:{}};var u={};Page((0,o.default)({},r.default.func,r.default.func.start,{data:(0,o.default)({},r.default.data,{hidden:!0,addPeopleNodes:[1],tableOperate:\"\\u9009\\u62e9\",purchaseList:[],tableParam2:{size:100,now:1,total:0},tableOperate2:\"\\u5220\\u9664\",good:{},totalPrice:0,tableItems:[{prop:\"FNumber\",label:\"\\u7269\\u6599\\u7f16\\u7801\",width:200},{prop:\"FName\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:300},{prop:\"FModel\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"FNote\",label:\"\\u9884\\u8ba1\\u5355\\u4ef7\",width:100}],tableItems2:[{prop:\"Supplier\",label:\"\\u4f9b\\u5e94\\u5546\",width:200},{prop:\"CodeNo\",label:\"\\u7269\\u6599\\u7f16\\u7801\",width:200},{prop:\"Name\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:300},{prop:\"Standard\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"Unit\",label:\"\\u5355\\u4f4d\",width:100},{prop:\"Price\",label:\"\\u5355\\u4ef7\",width:100},{prop:\"Count\",label:\"\\u6570\\u91cf\",width:100},{prop:\"Purpose\",label:\"\\u7528\\u9014\",width:300},{prop:\"StartTime\",label:\"\\u5f00\\u59cb\\u65e5\\u671f\",width:200},{prop:\"EndTime\",label:\"\\u7ed3\\u675f\\u65e5\\u671f\",width:200},{prop:\"Mark\",label:\"\\u5907\\u6ce8\",width:300}]}),search:function(t){var e=t.detail.value;if(console.log(e),e&&e.keyWord){var a=this;a.requestData(\"GET\",\"Purchase/GetICItem\"+a.formatQueryStr({Key:e.keyWord}),function(t){console.log(JSON.parse(t.data)),a.setData({\"tableParam.total\":JSON.parse(t.data).length}),a.data.data=JSON.parse(t.data),a.getData()})}},submit:function(t){var e=this,a=t.detail.value,o={Title:a.title,Remark:a.remark,ProjectName:e.data.projectList[e.data.projectIndex].ProjectName,ProjectId:e.data.projectList[e.data.projectIndex].ProjectId};console.log(o),this.approvalSubmit(o,function(t){e.bindAll(t)})},bindAll:function(t){var e=this,a=[],o=!0,r=!1,i=void 0;try{for(var n,l=this.data.purchaseList[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value;s.TaskId=t,a.push(s)}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}this._postData(\"Borrow/Save\",function(t){e.doneSubmit()},a)},chooseItem:function(t){t&&(console.log(t),(u=t.target.targetDataset.row)&&(this.setData({hidden:!this.data.hidden}),this.createMaskShowAnim(),this.createContentShowAnim()))},deleteItem:function(t){if(t){console.log(t);var e=t.target.targetDataset.index;!e&&0!=e||(console.log(this.data.purchaseList),this.data.purchaseList.splice(e,1),this.setData({purchaseList:this.data.purchaseList}),console.log(this.data.purchaseList))}},addGood:function(t){var e=t.detail.value;console.log(e);var a=!0,o=!1,r=void 0;try{for(var i,n=this.data.purchaseList[Symbol.iterator]();!(a=(i=n.next()).done);a=!0){if(i.value.CodeNo==u.FNumber)return}}catch(t){o=!0,r=t}finally{try{!a&&n.return&&n.return()}finally{if(o)throw r}}if(e&&e.Unit&&e.Count&&e.StartTime&&e.EndTime&&e.Supplier&&e.Purpose){var l={Supplier:e.Supplier,CodeNo:u.FNumber,Name:u.FName,Standard:u.FModel,Unit:e.Unit,Price:e.Price?e.Price+\"\":\"0\",Count:e.Count,Purpose:e.Purpose,StartTime:e.StartTime,EndTime:e.EndTime,Mark:e.Mark},s=this.data.purchaseList.length;this.setData((0,d.default)({},\"purchaseList[\"+s+\"]\",l)),this.onModalCloseTap()}else dd.alert({content:\"\\u8868\\u5355\\u586b\\u5199\\u4e0d\\u5b8c\\u6574\"})}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approveDetail/borrowThing/borrowThing\",usingComponents:{}},Page((0,o.default)({},r.default.func,r.default.func.dowith,{data:(0,o.default)({},r.default.data,{hidden:!0,tableItems:[{prop:\"Supplier\",label:\"\\u4f9b\\u5e94\\u5546\",width:300},{prop:\"CodeNo\",label:\"\\u7269\\u6599\\u7f16\\u7801\",width:200},{prop:\"Name\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:300},{prop:\"Standard\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"Unit\",label:\"\\u5355\\u4f4d\",width:100},{prop:\"Price\",label:\"\\u5355\\u4ef7(\\u9884\\u8ba1)\",width:200},{prop:\"Count\",label:\"\\u6570\\u91cf\",width:100},{prop:\"Purpose\",label:\"\\u7528\\u9014\",width:300},{prop:\"StartTime\",label:\"\\u5f00\\u59cb\\u65e5\\u671f\",width:200},{prop:\"EndTime\",label:\"\\u7ed3\\u675f\\u65e5\\u671f\",width:200},{prop:\"Mark\",label:\"\\u5907\\u6ce8\",width:300}]}),submit:function(t){var e=t.detail.value,a={Title:e.title,Remark:e.remark};this.aggreSubmit(a)},print:function(){this._postData(\"Borrow/PrintPDF\",function(t){dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\"})},{UserId:this.data.DingData.userid,TaskId:this.data.taskid})},output:function(){this._postData(\"Borrow/PrintExcel\",function(t){dd.alert({content:\"\\u83b7\\u53d6\\u6210\\u529f\"})},{UserId:this.data.DingData.userid,TaskId:this.data.taskid})}}))},function(t,e,a){\"use strict\";var d=i(a(2)),o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/start/maintain/maintain\",usingComponents:{}},Page((0,o.default)({},r.default.func,r.default.func.start,{data:(0,o.default)({},r.default.data,{hidden:!0,addPeopleNodes:[1],tableOperate:\"\\u9009\\u62e9\",purchaseList:[],tableParam2:{size:100,now:1,total:0},tableOperate2:\"\\u5220\\u9664\",good:{},totalPrice:0,tableItems:[{prop:\"FNumber\",label:\"\\u7269\\u6599\\u7f16\\u7801\",width:200},{prop:\"FName\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:300},{prop:\"FModel\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"FNote\",label:\"\\u9884\\u8ba1\\u5355\\u4ef7\",width:100}],tableItems2:[{prop:\"CodeNo\",label:\"\\u7269\\u6599\\u7f16\\u7801\",width:200},{prop:\"Name\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:300},{prop:\"Standard\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"Unit\",label:\"\\u5355\\u4f4d\",width:100},{prop:\"Price\",label:\"\\u5355\\u4ef7\",width:100},{prop:\"Count\",label:\"\\u6570\\u91cf\",width:100},{prop:\"MaintainContent\",label:\"\\u7ef4\\u4fee\\u5185\\u5bb9\",width:300},{prop:\"NeedTime\",label:\"\\u9700\\u7528\\u65f6\\u95f4\",width:200},{prop:\"Mark\",label:\"\\u5907\\u6ce8\",width:300}]}),submit:function(t){var e=this,a=t.detail.value;if(this.data.projectIndex&&0!=this.data.purchaseList.length){var o={Title:a.title,Remark:a.remark};console.log(o),this.approvalSubmit(o,function(t){e.bindAll(t)})}else dd.alert({content:\"\\u8868\\u5355\\u586b\\u5199\\u4e0d\\u5b8c\\u6574\"})},bindAll:function(t){var e=this,a=[],o=!0,r=!1,i=void 0;try{for(var n,l=this.data.purchaseList[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value;s.TaskId=t,a.push(s)}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}this._postData(\"Maintain/Save\",function(t){e.doneSubmit()},a)},addGood:function(t){var e=t.detail.value;console.log(e),console.log(this.data.good);var a=!0,o=!1,r=void 0;try{for(var i,n=this.data.purchaseList[Symbol.iterator]();!(a=(i=n.next()).done);a=!0){if(i.value.CodeNo==this.data.good.FNumber)return}}catch(t){o=!0,r=t}finally{try{!a&&n.return&&n.return()}finally{if(o)throw r}}if(e&&e.Unit&&e.Count&&e.NeedTime&&e.MaintainContent){var l={CodeNo:this.data.good.FNumber,Name:this.data.good.FName,Standard:this.data.good.FModel,Unit:e.Unit,Price:e.Price?e.Price+\"\":\"0\",Count:e.Count,MaintainContent:e.MaintainContent,NeedTime:e.NeedTime,Mark:e.Mark},s=this.data.purchaseList.length;this.setData((0,d.default)({},\"purchaseList[\"+s+\"]\",l)),this.onModalCloseTap()}else dd.alert({content:\"\\u8868\\u5355\\u586b\\u5199\\u4e0d\\u5b8c\\u6574\"})}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/start/pickingManage/pickingManage\",usingComponents:{table:\"/util/table/table\",column:\"/util/table/column/column\"}};Page((0,o.default)({},r.default.func,r.default.func.start,{data:(0,o.default)({},r.default.data,{tableItems:[{prop:\"fName\",label:\"\\u7269\\u6599\\u540d\\u79f0\",width:200},{prop:\"fNumber\",label:\"\\u7269\\u6599\\u7f16\\u7801\",width:300},{prop:\"unitName\",label:\"\\u5355\\u4f4d\",width:100},{prop:\"fPrice\",label:\"\\u5355\\u4ef7\",width:100},{prop:\"fQty\",label:\"\\u6570\\u91cf\",width:100},{prop:\"fModel\",label:\"\\u89c4\\u683c\\u578b\\u53f7\",width:300},{prop:\"fFullName\",label:\"\\u4f9b\\u5e94\\u5546\",width:300},{prop:\"ProjectName\",label:\"\\u9879\\u76ee\\u540d\\u79f0\",width:300},{prop:\"TaskId\",label:\"\\u6d41\\u6c34\\u53f7\",width:300},{prop:\"Remark\",label:\"\\u5907\\u6ce8\",width:300}],purchaseList:[],tableParams:{size:100,now:1,total:0}}),selectStartDateTime:function(){var e=this;dd.datePicker({format:\"yyyy-MM-dd HH:mm\",currentDate:this.data.DateStr+\" \"+this.data.TimeStr,startDate:\"2014-11-1\",endDate:this.data.Year+1+\"-\"+this.data.Month+\"-\"+this.data.Day+\" \"+this.data.TimeStr,success:function(t){e.setData({\"table.StartTime\":t.date})}})},selectEndDateTime:function(){var e=this;dd.datePicker({format:\"yyyy-MM-dd HH:mm\",currentDate:this.data.DateStr+\" \"+this.data.TimeStr,startDate:\"2014-11-1\",endDate:this.data.Year+1+\"-\"+this.data.Month+\"-\"+this.data.Day+\" \"+this.data.TimeStr,success:function(t){e.setData({\"table.EndTime\":t.date})}})},search:function(t){var e=this,a=t.detail.value;console.log(a),\"\"==a.keyWord||\"\"==a.StartTime||\"\"==a.EndTime?dd.alert({content:\"\\u8868\\u5355\\u586b\\u5199\\u4e0d\\u5b8c\\u6574\"}):void 0==t.buttonTarget.dataset.isSend?this._getData(\"Pick/Query\"+e.formatQueryStr({applyManId:this.data.DingData.userid,startTime:a.StartTime,endTime:a.EndTime,Key:a.keyWord}),function(t){console.log(t),0==t.length&&dd.showToast({content:\"\\u6682\\u65e0\\u6570\\u636e\"}),e.setData({purchaseList:t})}):1==t.buttonTarget.dataset.isSend&&this._getData(\"Pick/Query\"+e.formatQueryStr({applyManId:this.data.DingData.userid,startTime:a.StartTime,endTime:a.EndTime,Key:a.keyWord,isSend:!0}),function(t){dd.alert({content:\"\\u5df2\\u63a8\\u9001\\u81f3\\u9489\\u9489\"})})}}))},function(t,e,a){\"use strict\";var u=i(a(2)),o=i(a(0)),r=i(a(1));i(a(20));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/start/techonologySupply/techonologySupply\",usingComponents:{table:\"/util/table/table\",column:\"/util/table/column/column\"}};Page((0,o.default)({},r.default.func,r.default.func.start,{data:(0,o.default)({},r.default.data,{addPeopleNodes:[1],items:[{name:\"\\u667a\\u6167\\u5de5\\u5382\\u4e8b\\u4e1a\\u90e8\",value:\"\\u667a\\u6167\\u5de5\\u5382\\u4e8b\\u4e1a\\u90e8\",checked:!0},{name:\"\\u6570\\u63a7\\u4e00\\u4ee3\\u4e8b\\u4e1a\\u90e8\",value:\"\\u6570\\u63a7\\u4e00\\u4ee3\\u4e8b\\u4e1a\\u90e8\"},{name:\"\\u673a\\u5668\\u4eba\\u4e8b\\u4e1a\\u90e8\",value:\"\\u673a\\u5668\\u4eba\\u4e8b\\u4e1a\\u90e8\"},{name:\"\\u884c\\u653f\\u90e8\",value:\"\\u884c\\u653f\\u90e8\"},{name:\"\\u8d22\\u52a1\\u90e8\",value:\"\\u8d22\\u52a1\\u90e8\"},{name:\"\\u5236\\u9020\\u8bd5\\u9a8c\\u90e8\",value:\"\\u5236\\u9020\\u8bd5\\u9a8c\\u90e8\"},{name:\"\\u9879\\u76ee\\u63a8\\u8fdb\\u90e8\",value:\"\\u9879\\u76ee\\u63a8\\u8fdb\\u90e8\"},{name:\"\\u81ea\\u52a8\\u5316\\u4e8b\\u4e1a\\u90e8\",value:\"\\u81ea\\u52a8\\u5316\\u4e8b\\u4e1a\\u90e8\"}],array1:[\"\",\"\\u7814\\u53d1\\u7c7b\",\"\\u4ea7\\u54c1\\u7c7b\",\"\\u6559\\u80b2\\u7c7b\"],index1:0,array2:[\"\\u9ad8\",\"\\u4e2d\",\"\\u4f4e\"],index2:0,OtherEngineers:\"\",ResponsibleMan:\"\",rotate:\"RotateToTheRight\",show:\"hidden\"}),choosePeoples:function(t){console.log(\"start choose people\");t.target.targetDataset.NodeId;var p=this;dd.complexChoose((0,o.default)({},p.chooseParam,{multiple:!1,success:function(t){console.log(t);var e=[],a=!0,o=!1,r=void 0;try{for(var i,n=t.users[Symbol.iterator]();!(a=(i=n.next()).done);a=!0){var l=i.value;e.push(l.name)}}catch(t){o=!0,r=t}finally{try{!a&&n.return&&n.return()}finally{if(o)throw r}}var s=!0,d=!1,u=void 0;try{for(var c,h=p.data.nodeList[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var f=c.value;1==f.NodeId&&(f.AddPeople=t.users)}}catch(t){d=!0,u=t}finally{try{!s&&h.return&&h.return()}finally{if(d)throw u}}p.setData({\"table.ResponsibleMan\":e.join(\",\"),ResponsibleMan:t.users[0],nodeList:p.data.nodeList})},fail:function(t){}}))},choosePeople:function(t){console.log(\"start choose people\");t.target.targetDataset.NodeId;var s=this;dd.complexChoose((0,o.default)({},s.chooseParam,{multiple:!0,success:function(t){console.log(t);var e=[],a=!0,o=!1,r=void 0;try{for(var i,n=t.users[Symbol.iterator]();!(a=(i=n.next()).done);a=!0){var l=i.value;e.push(l.name)}}catch(t){o=!0,r=t}finally{try{!a&&n.return&&n.return()}finally{if(o)throw r}}s.setData({\"table.OtherEngineers\":e.join(\",\"),OtherEngineers:t.users})},fail:function(t){}}))},bindPickerChangeOne:function(t){console.log(\"picker\\u53d1\\u9001\\u9009\\u62e9\\u6539\\u53d8\\uff0c\\u643a\\u5e26\\u503c\\u4e3a\",t.detail.value),this.setData({index1:t.detail.value})},bindPickerChangeTwo:function(t){console.log(\"picker\\u53d1\\u9001\\u9009\\u62e9\\u6539\\u53d8\\uff0c\\u643a\\u5e26\\u503c\\u4e3a\",t.detail.value),this.setData({index2:t.detail.value})},selectStartDateTime:function(){var e=this;dd.datePicker({format:\"yyyy-MM-dd HH:mm\",currentDate:this.data.DateStr+\" \"+this.data.TimeStr,startDate:this.data.DateStr+\" \"+this.data.TimeStr,endDate:this.data.Year+1+\"-\"+this.data.Month+\"-\"+this.data.Day+\" \"+this.data.TimeStr,success:function(t){e.setData({\"table.StartTime\":t.date})}})},submit:function(t){var e=this,a=t.detail.value,o=this;console.log(o.data.OtherEngineers);for(var r=\"\",i=\"\",n=0,l=o.data.OtherEngineers.length;n<l;n++)r=r+o.data.OtherEngineers[n].name+\",\",i=i+o.data.OtherEngineers[n].userId+\",\";r=r.substr(0,r.length-1),i=i.substr(0,i.length-1),console.log(this.data.DingData);var s=[{ApplyMan:this.data.DingData.nickName,ApplyManId:this.data.DingData.userid,ApplyTime:a.TimeRequired,Dept:this.data.DingData.departName,FlowId:\"34\",IsEnable:\"1\",IsSend:!1,NodeId:\"0\",Remark:a.remark,State:\"1\",Title:a.title},{ApplyMan:o.data.ResponsibleMan.name,ApplyManId:o.data.ResponsibleMan.userId,FlowId:\"34\",IsBack:null,IsEnable:1,IsSend:!1,NodeId:\"1\",OldFileUrl:null,State:0}],d=(0,u.default)({DeptName:a.DeptName.toString(),Customer:a.Customer,EmergencyLevel:o.data.array2[o.data.index2],MainPoints:a.MainPoints,OtherEngineers:r,OtherEngineersId:i,ResponsibleMan:o.data.ResponsibleMan.name,ResponsibleManId:o.data.ResponsibleMan.userId,ProjectOverview:a.ProjectOverview,ProjectType:o.data.array1[o.data.index1],Title:a.title,TaskId:\"\",TimeRequired:a.TimeRequired,remark:a.remark},\"MainPoints\",a.MainPoints);d.ResponsibleMan&&d.Customer&&d.Title&&d.ProjectType&&d.TimeRequired&&d.MainPoints&&d.ProjectOverview?this._postData(\"FlowInfoNew/CreateTaskInfo\",function(t){d.TaskId=t,e._postData(\"TechnicalSupport/Save\",function(t){dd.alert({content:\"\\u63d0\\u4ea4\\u5ba1\\u6279\\u6210\\u529f\",success:function(){dd.navigateBack({delta:2})}})},d)},s):dd.alert({content:\"\\u8bf7\\u5b8c\\u6574\\u586b\\u5199\\u8868\\u5355\"})},showOrClose:function(){\"RotateToTheRight\"==this.data.rotate?this.setData({rotate:\"Rotate-downward\",show:\"show\"}):\"Rotate-downward\"==this.data.rotate&&this.setData({rotate:\"RotateToTheRight\",show:\"hidden\"})}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/start/overTime/overTime\",usingComponents:{}};Page((0,o.default)({},r.default.func,r.default.func.start,{data:(0,o.default)({},r.default.data,{arrayOfTime:[\"08:30\",\"09:00\",\"09:30\",\"10:00\",\"10:30\",\"11:00\",\"11:30\",\"12:00\",\"12:30\",\"13:00\",\"13:30\",\"14:00\",\"14:30\",\"15:00\",\"15:30\",\"16:00\",\"16:30\",\"17:00\",\"17:30\",\"18:00\",\"18:30\",\"19:00\",\"19:30\",\"20:00\",\"20:30\",\"21:00\",\"21:30\",\"22:00\",\"22:30\",\"23:00\",\"23:30\"],index1:0,index2:0,hour:0}),selectStartDateTime:function(){var e=this;dd.datePicker({format:\"yyyy-MM-dd\",currentDate:this.data.DateStr+\" \"+this.data.TimeStr,startDate:this.data.DateStr+\" \"+this.data.TimeStr,endDate:this.data.Year+1+\"-\"+this.data.Month+\"-\"+this.data.Day+\" \"+this.data.TimeStr,success:function(t){e.setData({\"table.StartTime\":t.date})}})},bindPickerChangeOne:function(t){console.log(\"picker\\u53d1\\u9001\\u9009\\u62e9\\u6539\\u53d8\\uff0c\\u643a\\u5e26\\u503c\\u4e3a\",t.detail.value),this.setData({index1:t.detail.value})},bindPickerChangeTwo:function(t){console.log(\"picker\\u53d1\\u9001\\u9009\\u62e9\\u6539\\u53d8\\uff0c\\u643a\\u5e26\\u503c\\u4e3a\",t.detail.value),this.data.index2=t.detail.value,this.setData({index2:t.detail.value,hour:30*(this.data.index2-this.data.index1)/60})},submit:function(t){var e=this;console.log(t.detail.value);var a=t.detail.value,o=this,r=[{ApplyMan:this.data.DingData.nickName,ApplyManId:this.data.DingData.userid,ApplyTime:this.data.DateStr,Dept:this.data.DingData.departName,FlowId:\"17\",IsEnable:\"1\",IsSend:!1,NodeId:\"0\",State:\"1\",Title:a.title}];console.log(r);var i={DateTime:a.DateTime,EndTimeTime:o.data.arrayOfTime[o.data.index2],OverTimeContent:a.OverTimeContent,StartTime:o.data.arrayOfTime[o.data.index1],TaskId:\"\",Title:a.title,UseTime:this.conversionTimeFormat(o.data.hour),name:a.name};console.log(i),i.DateTime&&i.EndTimeTime&&i.StartTime&&i.OverTimeContent&&i.UseTime?this._postData(\"FlowInfoNew/CreateTaskInfo\",function(t){i.TaskId=t,e._postData(\"OverTimeTable/OverTimeTableSave\",function(t){dd.alert({content:\"\\u6210\\u529f\\u53d1\\u8d77\",success:function(){dd.navigateBack({delta:2})}})},i)},r):dd.alert({content:\"\\u8bf7\\u5b8c\\u6574\\u586b\\u5199\\u8868\\u5355\"})},conversionTimeFormat:function(t){var e=t.toString().split(\".\");return 1==e.length?e[0]+\":00\":2==e.length?e[0]+\":30\":void 0}}))},function(t,e,a){\"use strict\";var c=i(a(2)),o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approveDetail/projectClosure/projectClosure\",usingComponents:{}},Page((0,o.default)({},r.default.func,r.default.func.dowith,{data:(0,o.default)({},r.default.data,{hidden:!0,good:{},result:{},rotate:\"RotateToTheRight\",show:\"hidden\",rotate1:\"RotateToTheRight\",show1:\"hidden\",rotate2:\"RotateToTheRight\",show2:\"hidden\",rotate3:\"RotateToTheRight\",show3:\"hidden\",rotate4:\"RotateToTheRight\",show4:\"hidden\",tableItems1:[{prop:\"Type\",label:\"\\u7c7b\\u522b\",width:200},{prop:\"ApplyMan\",label:\"\\u7533\\u8bf7\\u4eba\",width:200},{prop:\"ApplyTime\",label:\"\\u7533\\u8bf7\\u65f6\\u95f4\",width:250},{prop:\"OldTaskId\",label:\"\\u6d41\\u6c34\\u53f7\",width:200}],tableItems2:[{prop:\"ApplicationUnitName\",label:\"\\u8f6c\\u5316/\\u5e94\\u7528\\u5355\\u4f4d\",width:200},{prop:\"Customer\",label:\"\\u5ba2\\u6237/\\u8054\\u7cfb\\u4eba\",width:200},{prop:\"Post\",label:\"\\u804c\\u52a1\",width:200},{prop:\"Tel\",label:\"\\u8054\\u7cfb\\u65b9\\u5f0f\",width:200}],tableItems3:[{prop:\"Name\",label:\"\\u7533\\u62a5\\u653f\\u7b56\\u540d\\u79f0\",width:200},{prop:\"No\",label:\"\\u4e13\\u9879\\u4e13\\u9898\\u7f16\\u53f7\",width:200},{prop:\"Money\",label:\"\\u56fd\\u62e8\\u7ecf\\u8d39/\\u4e07\",width:200},{prop:\"ActualMoney\",label:\"\\u5b9e\\u9645\\u5230\\u8d26/\\u4e07\",width:200}],tableItems4:[{prop:\"Subject\",label:\"\\u79d1\\u76ee/\\u5907\\u6ce8\",width:200},{prop:\"Money\",label:\"\\u652f\\u51fa\\u6570(\\u8d44\\u6599\\u79d1\\u76ee\\u5408\\u8ba1)\",width:300},{prop:\"NameAndMoney\",label:\"\\u652f\\u51fa\\u6570\\u8ba1\\u7b97\\u4f9d\\u636e(\\u540d\\u79f0+\\u91d1\\u989d)\",width:300}],tableData4:[{Money:\"\",NameAndMoney:\"\",Subject:\"1\\u3001\\u8bbe\\u5907\\u8d39\",TaskId:\"\"},{Money:\"\",NameAndMoney:\"\",Subject:\"\\u5176\\u4e2d\\uff1a\\u8d2d\\u7f6e\",TaskId:\"\"},{Money:\"\",NameAndMoney:\"\",Subject:\"\\u8bd5\\u5236\",TaskId:\"\"},{Money:\"\",NameAndMoney:\"\",Subject:\"2\\u3001\\u6750\\u6599\\u8d39\",TaskId:\"\"},{Money:\"\",NameAndMoney:\"\",Subject:\"3\\u3001\\u6d4b\\u8bd5\\u5316\\u9a8c\\u52a0\\u5de5\\u8d39\",TaskId:\"\"},{Money:\"\",NameAndMoney:\"\",Subject:\"4\\u3001\\u71c3\\u6599\\u52a8\\u529b\\u8d39\",TaskId:\"\"},{Money:\"\",NameAndMoney:\"\",Subject:\"5\\u3001\\u5dee\\u65c5\\u8d39\",TaskId:\"\"},{Money:\"\",NameAndMoney:\"\",Subject:\"6\\u3001\\u4f1a\\u8bae\\u8d39\",TaskId:\"\"},{Money:\"\",NameAndMoney:\"\",Subject:\"7\\u3001\\u5408\\u4f5c\\u4e0e\\u4ea4\\u6d41\\u8d39\",TaskId:\"\"},{Money:\"\",NameAndMoney:\"\",Subject:\"8\\u3001\\u51fa\\u7248/\\u6587\\u732e/\\u4fe1\\u606f\\u4f20\\u64ad/\\u77e5\\u8bc6\\u4ea7\\u6743\\u4e8b\\u52a1\\u8d39\",TaskId:\"\"},{Money:\"\",NameAndMoney:\"\",Subject:\"9\\u3001\\u52b3\\u52a1\\u8d39\",TaskId:\"\"},{Money:\"\",NameAndMoney:\"\",Subject:\"10\\u3001\\u4e13\\u5bb6\\u54a8\\u8be2\\u8d39\",TaskId:\"\"},{Money:\"\",NameAndMoney:\"\",Subject:\"11\\u3001\\u7ba1\\u7406\\u8d39\",TaskId:\"\"},{Money:\"\",NameAndMoney:\"\",Subject:\"12\\u3001\\u5176\\u4ed6(\\u5982\\u7528\\u8f66\\u6210\\u672c\\u7b49)\",TaskId:\"\"},{Money:\"\",NameAndMoney:\"\",Subject:\"\\u5408\\u8ba1\",TaskId:\"\"}]}),submit:function(t){var e=t.detail.value,a={Title:e.title,Remark:e.remark};this.data.result.projectFundingList=this.data.tableData4,this.data.result.NodeId=this.data.nodeid,console.log(this.data.result.projectFundingList);var o=!0;if(2==this.data.nodeid){var r=!0,i=!1,n=void 0;try{for(var l,s=this.data.result.projectFundingList[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var d=l.value;if(\"\"==d.Money||\"\"==d.NameAndMoney){dd.alert({content:\"\\u8bf7\\u5b8c\\u6574\\u586b\\u5199\\u9879\\u76ee\\u7ecf\\u8d39\\u8868\"}),o=!1;break}o=!0}}catch(t){i=!0,n=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw n}}}1==o&&(2==this.data.nodeid&&this._postData(\"ProjectClosure/Modify\",function(t){},this.data.result),this.aggreSubmit(a))},onReady:function(){var g=this;console.log(this.data.nodeid),2==this.data.nodeid&&0==this.data.index&&this.setData({tableOperate:\"\\u586b\\u5199\"});var t=!0,e=!1,a=void 0;try{for(var o,r=this.data.tableData4[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){o.value.TaskId=this.data.taskid}}catch(t){e=!0,a=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw a}}this._getData(\"ProjectClosure/Read\"+this.formatQueryStr({TaskId:this.data.taskid}),function(t){console.log(t);var e=!0,a=!1,o=void 0;try{for(var r,i=g.data.nodeList[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var n=r.value;if(n.ApplyMan==g.data.DingData.nickName){g.setData({nodeid:n.NodeId});break}}}catch(t){a=!0,o=t}finally{try{!e&&i.return&&i.return()}finally{if(a)throw o}}var l=[],s=[],d=!0,u=!1,c=void 0;try{for(var h,f=t.detailedLists[Symbol.iterator]();!(d=(h=f.next()).done);d=!0){var p=h.value;\"\\u77e5\\u8bc6\\u4ea7\\u6743\\u7533\\u8bf7\"==p.Type?l.push(p):s.push(p)}}catch(t){u=!0,c=t}finally{try{!d&&f.return&&f.return()}finally{if(u)throw c}}g.setData({result:t,table:t.projectClosure,tableData1:s,intellectualProperty:l,tableData2:t.applicationUnitList,tableData3:t.longitudinalProject,tableData4:0!==t.projectFundingList.length?t.projectFundingList:g.data.tableData4,SuggestBook1:JSON.parse(t.projectClosure.SuggestBook1)[0],PPT2:JSON.parse(t.projectClosure.PPT2)[0],DemandBook3:null!=t.projectClosure.DemandBook3?JSON.parse(t.projectClosure.DemandBook3)[0]:null,Drawing4:null!=t.projectClosure.Drawing4?JSON.parse(t.projectClosure.Drawing4)[0]:null,Electrical5:null!=t.projectClosure.Electrical5?JSON.parse(t.projectClosure.Electrical5)[0]:null,Bom6:null!=t.projectClosure.Bom6?JSON.parse(t.projectClosure.Bom6)[0]:null,SourceCode7:null!=t.projectClosure.SourceCode7?JSON.parse(t.projectClosure.SourceCode7)[0]:null,UseBook8:null!=t.projectClosure.UseBook8?JSON.parse(t.projectClosure.UseBook8)[0]:null,CooperationAgreement9:null!=t.projectClosure.CooperationAgreement9?JSON.parse(t.projectClosure.CooperationAgreement9)[0]:null,Product10:null!=t.projectClosure.Product10?JSON.parse(t.projectClosure.Product10)[0]:null,Solution11:null!=t.projectClosure.Solution11?JSON.parse(t.projectClosure.Solution11)[0]:null,AcceptanceData14:null!=t.projectClosure.AcceptanceData14?JSON.parse(t.projectClosure.AcceptanceData14)[0]:null,ProcessDocumentation15:null!=t.projectClosure.ProcessDocumentation15?JSON.parse(t.projectClosure.ProcessDocumentation15)[0]:null,TerminationReport16:null!=t.projectClosure.TerminationReport16?JSON.parse(t.projectClosure.TerminationReport16)[0]:null,PackingList17:null!=t.projectClosure.PackingList17?JSON.parse(t.projectClosure.PackingList17)[0]:null,AcceptanceSlip18:null!=t.projectClosure.AcceptanceSlip18?JSON.parse(t.projectClosure.AcceptanceSlip18)[0]:null})})},chooseItem:function(t){t&&(console.log(t),this.data.good=t.target.targetDataset.row,this.data.good&&(this.setData({Subject:this.data.good.Subject,idx:t.target.targetDataset.index,hidden:!this.data.hidden}),this.createMaskShowAnim(),this.createContentShowAnim()))},addGood:function(t){var e,a=t.detail.value;if(console.log(t),a&&a.NameAndMoney&&a.Money){var o={Id:this.data.good.Id,Money:a.Money,NameAndMoney:a.NameAndMoney,Subject:this.data.good.Subject,TaskId:this.data.taskid},r=t.buttonTarget.dataset.index;console.log(o);var i=0,n=0;this.data.tableData4[r]=o;for(var l=1,s=this.data.tableData4.length-1;l<s;l++)i+=this.data.tableData4[l].Money-0,n+=this.data.tableData4[l].NameAndMoney-0;var d=this.data.tableData4[1].Money-0+(this.data.tableData4[2].Money-0),u=this.data.tableData4[1].NameAndMoney-0+(this.data.tableData4[2].NameAndMoney-0);console.log(this.data.tableData4),console.log(i),console.log(n),this.setData((e={},(0,c.default)(e,\"tableData4[\"+r+\"]\",o),(0,c.default)(e,\"tableData4[0].Money\",d),(0,c.default)(e,\"tableData4[0].NameAndMoney\",u),(0,c.default)(e,\"tableData4[14].Money\",i),(0,c.default)(e,\"tableData4[14].NameAndMoney\",n),e)),this.onModalCloseTap()}else dd.alert({content:\"\\u8868\\u5355\\u586b\\u5199\\u4e0d\\u5b8c\\u6574\"})},PrintOne:function(){var t={UserId:this.data.DingData.userid,TaskId:this.data.taskid,Type:1};this._postData(\"ProjectClosure/PrintExcel\",function(t){dd.alert({content:\"\\u6253\\u5370\\u5b8c\\u6210\\uff0c\\u8bf7\\u5728\\u9489\\u9489\\u5185\\u67e5\\u6536\"})},t)},PrintTwo:function(){var t={UserId:this.data.DingData.userid,TaskId:this.data.taskid,Type:2};this._postData(\"ProjectClosure/PrintExcel\",function(t){dd.alert({content:\"\\u6253\\u5370\\u5b8c\\u6210\\uff0c\\u8bf7\\u5728\\u9489\\u9489\\u5185\\u67e5\\u6536\"})},t)},PrintThree:function(){var t={UserId:this.data.DingData.userid,TaskId:this.data.taskid,Type:3};this._postData(\"ProjectClosure/PrintExcel\",function(t){dd.alert({content:\"\\u6253\\u5370\\u5b8c\\u6210\\uff0c\\u8bf7\\u5728\\u9489\\u9489\\u5185\\u67e5\\u6536\"})},t)},printTable:function(){console.log(\"printTable\");var t={UserId:this.data.DingData.userid,TaskId:this.data.taskid};this._postData(\"ProjectClosure/PrintAndSend\",function(t){dd.alert({content:\"\\u6253\\u5370\\u5b8c\\u6210\\uff0c\\u8bf7\\u5728\\u9489\\u9489\\u5185\\u67e5\\u6536\"})},t)},showOrClose:function(){\"RotateToTheRight\"==this.data.rotate?this.setData({rotate:\"Rotate-downward\",show:\"show\"}):\"Rotate-downward\"==this.data.rotate&&this.setData({rotate:\"RotateToTheRight\",show:\"hidden\"})},showOrCloseOne:function(){\"RotateToTheRight\"==this.data.rotate1?this.setData({rotate1:\"Rotate-downward\",show1:\"show\"}):\"Rotate-downward\"==this.data.rotate1&&this.setData({rotate1:\"RotateToTheRight\",show1:\"hidden\"})},showOrCloseTwo:function(){\"RotateToTheRight\"==this.data.rotate2?this.setData({rotate2:\"Rotate-downward\",show2:\"show\"}):\"Rotate-downward\"==this.data.rotate2&&this.setData({rotate2:\"RotateToTheRight\",show2:\"hidden\"})},showOrCloseThree:function(){\"RotateToTheRight\"==this.data.rotate3?this.setData({rotate3:\"Rotate-downward\",show3:\"show\"}):\"Rotate-downward\"==this.data.rotate3&&this.setData({rotate3:\"RotateToTheRight\",show3:\"hidden\"})},showOrCloseFour:function(){\"RotateToTheRight\"==this.data.rotate4?this.setData({rotate4:\"Rotate-downward\",show4:\"show\"}):\"Rotate-downward\"==this.data.rotate4&&this.setData({rotate4:\"RotateToTheRight\",show4:\"hidden\"})}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/approveDetail/gift/gift\",usingComponents:{}},Page((0,o.default)({},r.default.func,r.default.func.dowith,{data:{tableItems:[{prop:\"GiftName\",label:\"\\u793c\\u54c1\\u540d\\u79f0\",width:400},{prop:\"GiftCount\",label:\"\\u6570\\u91cf\",width:400}]},onReady:function(){var e=this;this._getData(\"Gift/GetTable\"+this.formatQueryStr({TaskId:this.data.taskid}),function(t){console.log(t),e.setData({tableData:t})})},submit:function(t){var e=t.detail.value,a={Title:e.title,Remark:e.remark};this.aggreSubmit(a)}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/start/gift/gift\",usingComponents:{}},Page((0,o.default)({},r.default.func,r.default.func.start,{data:(0,o.default)({},r.default.data,{hidden:!0,tableOperate:\"\\u6dfb\\u52a0\",purchaseList:[],tableItems:[{prop:\"Type\",label:\"\\u5927\\u7c7b\",width:200},{prop:\"ProjectName\",label:\"\\u5c0f\\u7c7b\",width:300},{prop:\"GiftName\",label:\"\\u540d\\u79f0\",width:300},{prop:\"Stock\",label:\"\\u5e93\\u5b58\",width:100},{prop:\"Unit\",label:\"\\u5355\\u4f4d\",width:100},{prop:\"Price\",label:\"\\u5355\\u4ef7\",width:100}],tableItems2:[{prop:\"GiftName\",label:\"\\u793c\\u54c1\\u540d\\u79f0\",width:500},{prop:\"GiftCount\",label:\"\\u793c\\u54c1\\u6570\\u91cf\",width:300}]}),search:function(t){var e=this,a=t.detail.value;if(console.log(a),\"\"!=a.keyWord){var o={key:a.keyWord};this._getData(\"Gift/GetStock\"+this.formatQueryStr(o),function(t){console.log(t),0==t.length?dd.alert({content:\"\\u6682\\u65e0\\u6570\\u636e\"}):t.length>0&&e.setData({tableData:t})})}else dd.alert({content:\"\\u8bf7\\u8f93\\u5165\\u5173\\u952e\\u5b57\"})},chooseItem:function(t){t&&(this.data.good=t.target.targetDataset.row,this.data.good&&(this.setData({hidden:!this.data.hidden}),this.createMaskShowAnim(),this.createContentShowAnim()))},addGood:function(t){var e=t.detail.value;if(console.log(e),e&&e.GiftCount){var a={GiftName:this.data.good.GiftName,GiftNo:this.data.good.Id,GiftCount:e.GiftCount};console.log(a),this.data.purchaseList.push(a),this.setData({purchaseList:this.data.purchaseList}),this.onModalCloseTap()}else dd.alert({content:\"\\u8868\\u5355\\u586b\\u5199\\u4e0d\\u5b8c\\u6574\"})},submit:function(t){var e=this,a=t.detail.value,o={Title:a.Title,Remark:a.remark};if(e.data.purchaseList.length){console.log(o),this.approvalSubmit(o,function(t){e.bindAll(t)})}else dd.alert({content:\"\\u8bf7\\u9009\\u62e9\\u793c\\u54c1\"})},bindAll:function(t){var e=this,a=[],o=!0,r=!1,i=void 0;try{for(var n,l=e.data.purchaseList[Symbol.iterator]();!(o=(n=l.next()).done);o=!0){var s=n.value;s.TaskId=t,a.push(s)}}catch(t){r=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw i}}e.requestJsonData(\"POST\",\"Gift/TableSave\",function(t){e.doneSubmit()},JSON.stringify(a))}}))},function(t,e,a){\"use strict\";var o=i(a(0)),r=i(a(1));function i(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/processOn/processOn\",usingComponents:{}},Page((0,o.default)({},r.default.func,{data:{text:\"\"},onLoad:function(t){this.setData({flowid:t.flowid})},onReady:function(){var g=this,m=this,t={flowid:this.data.flowid};this._getData(\"FlowInfoNew/ReadFlows\"+this.formatQueryStr(t),function(t){console.log(t);var e=!0,a=!1,o=void 0;try{for(var r,i=t[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var n=r.value;if(n.ChoseNodeId){n.ChoseNodeId=n.ChoseNodeId.split(\",\");var l=!0,s=!1,d=void 0;try{for(var u,c=n.ChoseNodeId[Symbol.iterator]();!(l=(u=c.next()).done);l=!0){var h=u.value;m.data.text=m.data.text+\"\\t\\u9009\\u62e9\"+t[h].NodeName,console.log(n.NodeId+\"\\u9009\\u62e9\"+h)}}catch(t){s=!0,d=t}finally{try{!l&&c.return&&c.return()}finally{if(s)throw d}}}}}catch(t){a=!0,o=t}finally{try{!e&&i.return&&i.return()}finally{if(a)throw o}}var f=new RegExp(\"\\u53d1\\u8d77\",\"g\"),p=new RegExp(\"\\u5ba1\\u6838\",\"g\");m.data.text=m.data.text.replace(f,\"\").replace(p,\"\"),g.draw(t),m.setData({tableInfo:t,text:g.data.text})})},draw:function(t){console.log(t);var e=dd.createCanvasContext(\"canvas\");console.log(e),this.fillText(e,t[0].NodeName,187.5,20),this.fillText(e,t[1].NodeName,187.5,80),this.fillText(e,t[2].NodeName,187.5,140),this.fillText(e,t[3].NodeName,187.5,200),this.fillText(e,t[4].NodeName,187.5,260),this.fillText(e,t[5].NodeName,187.5,320),this.drawRectangle(e,137.5,1,100,30,2),this.drawRectangle(e,117.5,50,130,30,2),e.draw()},drawCurveArrow:function(t,e,a,o,r,i,n,l,s,d,u){l=l||30,s=s||10,d=d||1,u=u||\"#000\";var c=180*Math.atan2(n-r,i-o)/Math.PI,h=(c+l)*Math.PI/180,f=(c-l)*Math.PI/180,p=s*Math.cos(h),g=s*Math.sin(h),m=s*Math.cos(f),b=s*Math.sin(f);console.log(\"\\u8d77\\u59cb\\u70b9\"+e+\",\"+a),console.log(\"\\u7ec8\\u70b9\"+o+\",\"+r),console.log(\"\\u7bad\\u5934\\u70b91\\u7684\\u53d8\\u91cf\"+p+\",\"+g),console.log(\"\\u7bad\\u5934\\u70b92\\u7684\\u53d8\\u91cf\"+b+\",\"+b),t.save(),t.beginPath();var v=void 0,y=void 0;t.moveTo(e,a),t.quadraticCurveTo(o/2,r/2,o,r),v=o+p,y=r+g,t.moveTo(v,y),t.lineTo(o,r),v=o+m,y=r+b,t.lineTo(v,y),t.setStrokeStyle(u),t.setLineWidth(d),t.stroke(),t.restore()},drawArrow:function(t,e,a,o,r,i,n,l,s){i=i||30,n=n||10,l=l||1,s=s||\"#000\";var d=180*Math.atan2(a-r,e-o)/Math.PI,u=(d+i)*Math.PI/180,c=(d-i)*Math.PI/180,h=n*Math.cos(u),f=n*Math.sin(u),p=n*Math.cos(c),g=n*Math.sin(c);t.save(),t.beginPath();var m=void 0,b=void 0;t.moveTo(e,a),t.lineTo(o,r),m=o+h,b=r+f,t.moveTo(m,b),t.lineTo(o,r),m=o+p,b=r+g,t.lineTo(m,b),t.setStrokeStyle(s),t.setLineWidth(l),t.stroke(),t.restore()},drawRectangle:function(t,e,a,o,r,i){t.beginPath(),t.setFillStyle(\"transparent\"),t.arc(e+i,a+i,i,Math.PI,1.5*Math.PI),t.moveTo(e+i,a),t.lineTo(e+o-i,a),t.lineTo(e+o,a+i),t.arc(e+o-i,a+i,i,1.5*Math.PI,2*Math.PI),t.lineTo(e+o,a+r-i),t.lineTo(e+o-i,a+r),t.arc(e+o-i,a+r-i,i,0,.5*Math.PI),t.lineTo(e+i,a+r),t.lineTo(e,a+r-i),t.arc(e+i,a+r-i,i,.5*Math.PI,Math.PI),t.lineTo(e,a+i),t.lineTo(e+i,a),t.stroke(),t.restore()},fillText:function(t,e,a,o,r){t.setFontSize(r||20),t.setTextAlign(\"center\"),t.fillText(e,a,o)}}))},function(t,e,a){\"use strict\";var o=n(a(2)),r=n(a(0)),i=n(a(1));function n(t){return t&&t.__esModule?t:{default:t}}$global.currentPageConfig={pagePath:\"page/start/productionMonitoring/productionMonitoring\",usingComponents:{}};var l=getApp();Page((0,r.default)({},i.default.func,{data:(0,r.default)({},i.default.data,{rotate:\"RotateToTheRight\",show:\"hidden\",rotate1:\"RotateToTheRight\",show1:\"hidden\",rotate2:\"RotateToTheRight\",show2:\"hidden\",a:!0,tableOperate:\"\\u9a8c\\u6536\",good:{},hidden:!0,updateData:[],tableItems:[{prop:\"CompanyName\",label:\"\\u5355\\u4f4d\",width:200},{prop:\"ProjectType\",label:\"\\u5927\\u7c7b\\u578b\",width:200},{prop:\"ProjectSmallType\",label:\"\\u5c0f\\u7c7b\\u578b\",width:200},{prop:\"Remark1\",label:\"\\u5907\\u6ce8\",width:300},{prop:\"ProjectId\",label:\"\\u9879\\u76ee\\u7f16\\u7801\",width:200},{prop:\"ProjectName\",label:\"\\u9879\\u76ee\\u540d\\u79f0\",width:450},{prop:\"TaskId\",label:\"\\u6d41\\u6c34\\u53f7\",width:100},{prop:\"Bom\",label:\"BOM\",width:500},{prop:\"AccountKeeping\",label:\"\\u8d70\\u8d26\",width:300},{prop:\"Designer\",label:\"\\u8bbe\\u8ba1\\u5458\",width:100},{prop:\"BomTime\",label:\"\\u8d44\\u6599\\u63a5\\u6536\\u65f6\\u95f4BOM\",width:350},{prop:\"TwoD\",label:\"\\u8d44\\u6599\\u63a5\\u6536\\u65f6\\u95f42D\",width:350},{prop:\"ThreeD\",label:\"\\u8d44\\u6599\\u63a5\\u6536\\u65f6\\u95f43D\",width:350},{prop:\"NeedTime\",label:\"\\u9700\\u6c42\\u65f6\\u95f4\",width:350},{prop:\"NeedCount\",label:\"\\u9700\\u6c42\\u5efa\\u8bae\",width:300},{prop:\"ScheduledDate\",label:\"\\u9884\\u8ba1\\u5f00\\u5de5\\u65f6\\u95f4\",width:350},{prop:\"CompletionTime\",label:\"\\u9884\\u8ba1\\u5b8c\\u6210\\u65f6\\u95f4\",width:350},{prop:\"BeginTime\",label:\"\\u5f00\\u59cb\\u65f6\\u95f4\",width:350},{prop:\"HomemadeNumberZZ\",label:\"\\u81ea\\u5236\\u6570(\\u4ef6)\",width:200},{prop:\"ProcessingTimeZZ\",label:\"\\u52a0\\u5de5\\u65f6\\u95f4(\\u5929)\",width:200},{prop:\"ProgressNumberZZ\",label:\"\\u8fdb\\u5ea6(\\u4ef6)\",width:200},{prop:\"ExternalNumberYX\",label:\"\\u5916\\u534f\\u6570(\\u4ef6)\",width:200},{prop:\"ProcessingTimeYX\",label:\"\\u52a0\\u5de5\\u65f6\\u95f4(\\u5929)\",width:200},{prop:\"SpeedOfProgress\",label:\"\\u8fdb\\u5ea6\",width:200},{prop:\"ActualCompletionTime\",label:\"\\u5b9e\\u9645\\u52a0\\u5de5\\u5b8c\\u6210\\u65f6\\u95f4\",width:350},{prop:\"Assemble\",label:\"\\u7ec4\\u88c5(%)\",width:200},{prop:\"Debugging\",label:\"\\u8c03\\u8bd5(%)\",width:200},{prop:\"ProgressStatement\",label:\"\\u8fdb\\u5ea6\\u8bf4\\u660e(%)\",width:300},{prop:\"Remark2\",label:\"\\u5907\\u6ce8\",width:300},{prop:\"HeadOfDepartments\",label:\"\\u90e8\\u95e8\\u8d1f\\u8d23\\u4eba\",width:200},{prop:\"NoteTaker\",label:\"\\u8bb0\\u5f55\\u4eba\",width:200},{prop:\"Remark3\",label:\"\\u5907\\u6ce8\",width:300},{prop:\"Tabulator\",label:\"\\u56fe\\u7eb8\\u5ba1\\u6838\\u5458\",width:200}]}),showOrClose:function(){\"RotateToTheRight\"==this.data.rotate?this.setData({rotate:\"Rotate-downward\",show:\"show\"}):\"Rotate-downward\"==this.data.rotate&&this.setData({rotate:\"RotateToTheRight\",show:\"hidden\"})},showOrCloseOne:function(){\"RotateToTheRight\"==this.data.rotate1?this.setData({rotate1:\"Rotate-downward\",show1:\"show\"}):\"Rotate-downward\"==this.data.rotate1&&this.setData({rotate1:\"RotateToTheRight\",show1:\"hidden\"})},showOrCloseTwo:function(){\"RotateToTheRight\"==this.data.rotate2?this.setData({rotate2:\"Rotate-downward\",show2:\"show\"}):\"Rotate-downward\"==this.data.rotate2&&this.setData({rotate2:\"RotateToTheRight\",show2:\"hidden\"})},onLoad:function(e){var a=this,o=this;this.checkLogin(function(){var t=e.taskid;o.data.CompanyId=e.companyId,void 0!==t?a.setData({hidden:!1,TaskId:t}):a.setData({hidden:!0})})},onShow:function(){var s=this;setTimeout(function(){var e=s;if(void 0!==s.data.TaskId){var t={applyManId:s.data.DingData.userid,pageIndex:1,pageSize:99,taskid:s.data.TaskId,companyId:s.data.CompanyId};s._getData(\"ProcessingProgress/Read\"+s.formatQueryStr(t),function(t){console.log(t);var e=void 0,a=!0,o=!1,r=void 0;try{for(var i,n=t[0].Power[Symbol.iterator]();!(a=(i=n.next()).done);a=!0){var l=i.value;2==l&&(e=l)}}catch(t){o=!0,r=t}finally{try{!a&&n.return&&n.return()}finally{if(o)throw r}}s.setData({power:e||null,tableInfo:t[0],SpeedOfProgress:t[0].SpeedOfProgress})})}else{var a={applyManId:s.data.DingData.userid,pageIndex:1,pageSize:99,companyId:0};s._getData(\"ProcessingProgress/Read\"+s.formatQueryStr(a),function(t){console.log(t),t.length>0?(e.setData((0,o.default)({data:t},\"tableParam.total\",t.length)),s.getData()):dd.navigateTo({url:\"../../../page/start/index\"})})}},2e3)},updateItem:function(t){t&&(console.log(t),this.data.good=t.target.targetDataset.row,this.data.good&&(this.setData({Subject:this.data.good.Subject,idx:t.target.targetDataset.index,a:!this.data.a}),this.createMaskShowAnim(),this.createContentShowAnim()))},addRemark:function(t){var e=t.detail.value,a=t.buttonTarget.dataset.index,o=!1,r=!0,i=!1,n=void 0;try{for(var l,s=this.data.tableData[a].Power[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){2==l.value&&(o=!0)}}catch(t){i=!0,n=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw n}}\"\\u5df2\\u5b8c\\u6210\"==this.data.tableData[a].SpeedOfProgress&&o?(this.data.tableData[a].Remark3=e.remark3,this.data.updateData.push(this.data.tableData[a]),this.setData({tableData:this.data.tableData})):dd.alert({content:\"\\u9879\\u76ee\\u672a\\u5b8c\\u6210\\u6216\\u60a8\\u4e0d\\u662f\\u8bbe\\u8ba1\\u4eba\\u5458,\\u65e0\\u6cd5\\u9a8c\\u6536\"}),this.onModalCloseTap()},updateTable:function(){var t={CompanyId:0,applyMan:l.userInfo.name,applyManId:l.userInfo.userid,IsExcelUpload:!1,processingProgresses:this.data.updateData};console.log(t),this._postData(\"ProcessingProgress/Modify\",function(t){dd.alert({content:\"\\u66f4\\u65b0\\u5b8c\\u6210\"})},t)},confirm:function(t){if(this.data.SpeedOfProgress)if(\"\\u5df2\\u5b8c\\u6210\"==this.data.SpeedOfProgress){this.data.tableInfo.IsAlreadyRead=!0,this.data.tableInfo.Remark3=t.detail.value.Remark3;var e={CompanyId:0,applyMan:l.userInfo.name,applyManId:l.userInfo.userid,IsExcelUpload:!1,processingProgresses:[this.data.tableInfo]};this._postData(\"ProcessingProgress/Modify\",function(t){dd.alert({content:\"\\u786e\\u8ba4\\u6536\\u8d27\\u6210\\u529f\"})},e)}else dd.alert({content:\"\\u751f\\u4ea7\\u8fdb\\u5ea6\\u4e0d\\u662f\\u5df2\\u5b8c\\u6210,\\u65e0\\u6cd5\\u786e\\u8ba4\\u6536\\u8d27\"})}}))},function(t,e,a){\"use strict\";$global.currentPageConfig={pagePath:\"page/managementConsole/managementConsole\",usingComponents:{}};var o=getApp();Page({data:{},onLoad:function(){console.log(o.globalData.sort),this.setData({sort:o.globalData.sort,menu:o.globalData.menu,sortItems:o.globalData.sortItems})},addShortcut:function(t){console.log(t);var e=t.target.dataset.title;dd.navigateTo({url:\"/page/managementConsole/addShortcut/addShortcut?title=\"+e})},modifyName:function(){dd.alert({content:\"\\u4fee\\u6539\\u540d\\u5b57\"})},delete:function(t){var e=t.target.dataset.item;dd.alert({content:\"\\u662f\\u5426\\u5220\\u9664\"+e.SORT_NAME+\"\\u6574\\u4e2a\\u5206\\u7ec4\"})},deleteItem:function(t){console.log(t);var e=t.target.dataset.item;dd.alert({content:\"\\u662f\\u5426\\u5220\\u9664\"+e.FlowName})},increase:function(){dd.alert({content:\"\\u662f\\u5426\\u65b0\\u589e\"})},sort:function(){dd.navigateTo({url:\"/page/managementConsole/sortTest_1/sortTest_1\"})}})},function(t,e,a){\"use strict\";$global.currentPageConfig={pagePath:\"page/managementConsole/addShortcut/addShortcut\",usingComponents:{}};var o=getApp();Page({data:{},onLoad:function(t){var e=t.title;console.log(o.globalData.menu),this.setData({menu:o.globalData.menu,title:e})}})},function(t,e,a){\"use strict\";$global.currentPageConfig={pagePath:\"page/managementConsole/sort/sort\",usingComponents:{}};var o=getApp();Page({data:{str1:\"+\",state:!1,first_click:!1,showOrClose:[]},onLoad:function(){for(var t=0;t<o.globalData.sort.length;t++)this.data.showOrClose.push({show:!0,index:t,str:\"-\",class:\"dropdown-content-show\"});console.log(o.globalData),console.log(this.data.showOrClose),this.setData({menu:o.globalData.menu,sort:o.globalData.sort})},onShow:function(){},toggle:function(t){console.log(t);var e=t.target.dataset.item;if(console.log(e),console.log(this.data.showOrClose[e-1].str),\"+\"==this.data.showOrClose[e-1].str){var a=this.data.showOrClose;a[e-1]={index:e-1,str:\"-\",class:\"dropdown-content-show\"},this.setData({showOrClose:a})}else if(\"-\"==this.data.showOrClose[e-1].str){var o=this.data.showOrClose;o[e-1]={index:e-1,str:\"+\",class:\"dropdown-content\"},this.setData({showOrClose:o})}}})},function(t,e,a){\"use strict\";$global.currentPageConfig={pagePath:\"page/managementConsole/sortTest/sortTest\",usingComponents:{}};var r,i,n,l,h,f,s=getApp();Page({data:{str1:\"+\",state:!1,first_click:!1,showOrClose:[],all_list:[{id:1,text:\"\\u91c7\\u8d2d\\u7ba1\\u7406\"},{id:2,text:\"\\u9879\\u76ee\\u7ba1\\u7406\"},{id:3,text:\"\\u8f66\\u8f86\\u7ba1\\u7406\"},{id:4,text:\"\\u884c\\u653f\\u7ba1\\u7406\"},{id:5,text:\"\\u751f\\u4ea7\\u7ba1\\u7406\"}],current:-1,s_v:10,s_h:0,u_w:373,u_h:50,all_width:\"\",moveable:!1,offset:[]},onLoad:function(){for(var n=this,t=[],e=0;e<s.globalData.sort.length;e++)this.data.showOrClose.push({show:!0,index:e,str:\"-\",class:\"dropdown-content-show\"});for(var a=0,o=s.globalData.sort.length;a<o;a++)s.globalData.sort[a].show&&t.push(s.globalData.sort[a]);console.log(s.globalData.sort),this.setData({menu:s.globalData.menu,sort:s.globalData.sort,all_list:t}),dd.getSystemInfo({success:function(t){var a=n.data.all_width=t.windowWidth,o=0,r=0,i=0,e=[].concat(n.data.all_list);e.forEach(function(t,e){t.left=(n.data.u_w+n.data.s_h)*r+n.data.s_h,t.top=(n.data.u_h+n.data.s_v)*i+n.data.s_v,t._left=t.left,t._top=t.top,n.data.offset.push({index:e,offsetLeft:t.left,offsetTop:t.top}),(o+=n.data.u_w+n.data.s_h)+n.data.u_w+n.data.s_h>a?(r=o=0,i++):r++}),console.log(e),n.setData({all_list:e})}})},toggle:function(t){console.log(t);var e=t.target.dataset.item;if(console.log(this.data.showOrClose[e-1].str),\"+\"==this.data.showOrClose[e-1].str){var a=this.data.showOrClose;a[e-1]={index:e-1,str:\"-\",class:\"dropdown-content-show\"},this.setData({showOrClose:a})}else if(\"-\"==this.data.showOrClose[e-1].str){var o=this.data.showOrClose;o[e-1]={index:e-1,str:\"+\",class:\"dropdown-content\"},this.setData({showOrClose:o})}},moveStart:function(t){console.log(\"start\"),r=t.changedTouches[0].clientX,i=t.changedTouches[0].clientY,n=this.data.offset[t.target.dataset.index].offsetLeft,l=this.data.offset[t.target.dataset.index].offsetTop,console.log(t.target.dataset.index),this.setData({current:t.target.dataset.index})},move:function(t){console.log(\"move\");var a=this;h=t.changedTouches[0].clientX-r+n,f=t.changedTouches[0].clientY-i+l;var e=this.getCurrnetUnderIndex(),o=[].concat(this.data.all_list);null!=e&&e!=this.data.current&&(this.changeArrayData(o,e,this.data.current),this.setData({current:e})),o.forEach(function(t,e){e==a.data.current?(t.left=h,t.top=f):(t.left=t._left,t.top=t._top)}),this.setData({all_list:o})},moveEnd:function(t){console.log(\"moveEnd\");var e=this.getCurrnetUnderIndex();console.log(e,this.data.current);var a=[].concat(this.data.all_list);null!=e&&e!=this.data.current&&this.changeArrayData(a,e,this.data.current),a.forEach(function(t,e){t.left=t._left,t.top=t._top}),this.setData({all_list:a})},changeArrayData:function(t,e,a){var o=t[e];t[e]=t[a],t[a]=o;var r=t[e]._left,i=t[e]._top;t[e]._left=t[a]._left,t[e]._top=t[a]._top,t[a]._left=r,t[a]._top=i},getCurrnetUnderIndex:function(t,e){t=h+this.data.u_w/2,e=f+this.data.u_h/2;var a=!1,o=!1,r=(this.data.all_width-this.data.s_h)/(this.data.s_h+this.data.u_w)>>0,i=(e-this.data.s_v)/(this.data.u_h+this.data.s_v)>>0,n=this.data.s_v+i*(this.data.u_h+this.data.s_v),l=n+this.data.u_h;e>n&&e<l&&(a=!0);var s=(t-this.data.s_h)/(this.data.u_w+this.data.s_h)>>0,d=this.data.s_h+s*(this.data.u_w+this.data.s_h),u=d+this.data.u_w;if(t>d&&t<u&&(o=!0),a&&o){var c=i*r+s;return c>this.data.all_list.length-1?null:c}return null}})},function(t,e,a){\"use strict\";$global.currentPageConfig={pagePath:\"page/managementConsole/sortTest_1/sortTest_1\",usingComponents:{}};var r,i,n,l,h,f,p=getApp();Page({data:{current:-1,fatherTopDistance:12.5,fatherLeftDistance:0,fatherWidth:343,fatherHeight:50,sonTopDistance:0,sonLeftDistance:0,sonWidth:343,sonHeight:50,all_width:\"\",moveable:!1,showOrClose:[]},onLoad:function(){for(var c=this,t=[],e=0;e<p.globalData.sort.length;e++)this.data.showOrClose.push({show:!0,index:e,str:\"-\",class:\"dropdown-content-show\"});for(var a=0,o=p.globalData.sort.length;a<o;a++){var r=p.globalData.sort[a],i=[],n=!0,l=!1,s=void 0;try{for(var d,u=p.globalData.sort[a].flows[Symbol.iterator]();!(n=(d=u.next()).done);n=!0){var h=d.value;h.url&&i.push(h)}}catch(t){l=!0,s=t}finally{try{!n&&u.return&&u.return()}finally{if(l)throw s}}p.globalData.sort[a].show&&(r.flows=i,t.push(r))}this.setData({all_list:t}),dd.getSystemInfo({success:function(t){var n=c.data.all_width=t.windowWidth,l=0,s=0,d=0,e=[].concat(c.data.all_list),u=0;e.forEach(function(t,e){t.left=(c.data.fatherWidth+c.data.fatherLeftDistance)*s+c.data.fatherLeftDistance,t.top=(c.data.fatherHeight+c.data.fatherTopDistance)*d+c.data.fatherTopDistance+u,t._left=t.left,t._top=t.top;for(var a=0,o=1,r=0,i=t.flows.length;r<i;r++)t.flows[r].left=0,t.flows[r].top=(c.data.fatherHeight+c.data.sonTopDistance)*o+c.data.sonTopDistance,t.flows[r]._left=t.flows[r].left,t.flows[r]._top=t.flows[r].top,a=c.data.sonWidth+c.data.sonLeftDistance,r==i-1&&(u+=o*c.data.sonHeight),a+c.data.sonWidth+c.data.sonLeftDistance>n?(a=0,o++):0;(l+=c.data.fatherWidth+c.data.fatherLeftDistance)+c.data.fatherWidth+c.data.fatherLeftDistance>n?(s=l=0,d++):s++}),c.setData({all_list:e})}})},moveStart:function(t){console.log(\"start\"),console.log(t),console.log(t.target.dataset.index),r=t.changedTouches[0].clientX,i=t.changedTouches[0].clientY,n=this.data.all_list[t.target.dataset.index].left,l=this.data.all_list[t.target.dataset.index].top,this.setData({current:t.target.dataset.index})},move:function(t){console.log(\"move\");var a=this;h=t.changedTouches[0].clientX-r+n,f=t.changedTouches[0].clientY-i+l;var e=this.getCurrnetUnderIndex(),o=[].concat(this.data.all_list);null!=e&&e!=this.data.current&&(this.changeArrayData(o,e,this.data.current),this.setData({current:e})),o.forEach(function(t,e){e==a.data.current?(t.left=h,t.top=f):(t.left=t._left,t.top=t._top)}),this.setData({all_list:o})},moveEnd:function(t){console.log(\"moveEnd\");var e=this.getCurrnetUnderIndex(),a=[].concat(this.data.all_list);null!=e&&e!=this.data.current&&this.changeArrayData(a,e,this.data.current),a.forEach(function(t,e){t.left=t._left,t.top=t._top}),this.setData({all_list:a})},changeArrayData:function(t,e,a){var o=t[e];t[e]=t[a],t[a]=o;var r=t[e]._left,i=t[e]._top;t[e]._left=t[a]._left,t[e]._top=t[a]._top,t[a]._left=r,t[a]._top=i},getCurrnetUnderIndex:function(t,e){t=h+this.data.fatherWidth/2,e=f+this.data.fatherHeight/2;var a=!1,o=!1,r=(this.data.all_width-this.data.fatherLeftDistance)/(this.data.fatherLeftDistance+this.data.fatherWidth)>>0,i=(e-this.data.fatherTopDistance)/(this.data.fatherHeight+this.data.fatherTopDistance)>>0,n=this.data.fatherTopDistance+i*(this.data.fatherHeight+this.data.fatherTopDistance),l=n+this.data.fatherHeight;e>n&&e<l&&(a=!0);var s=(t-this.data.fatherLeftDistance)/(this.data.fatherWidth+this.data.fatherLeftDistance)>>0,d=this.data.fatherLeftDistance+s*(this.data.fatherWidth+this.data.fatherLeftDistance),u=d+this.data.fatherWidth;if(t>d&&t<u&&(o=!0),a&&o){var c=i*r+s;return c>this.data.all_list.length-1?null:c}return null},toggle:function(t){var e=t.target.dataset.item;if(\"+\"==this.data.showOrClose[e].str){var a=this.data.showOrClose;a[e]={index:e,str:\"-\",class:\"dropdown-content-show\"},this.calculatedAltitudeIncrease(this.data.all_list,e),this.setData({showOrClose:a})}else if(\"-\"==this.data.showOrClose[e].str){var o=this.data.showOrClose;o[e]={index:e,str:\"+\",class:\"dropdown-content\"},this.calculatedAltitudeReduce(this.data.all_list,e),this.setData({showOrClose:o})}},calculatedAltitudeReduce:function(t,e){console.log(t);for(var a=t[e].flows.length*this.data.sonHeight,o=e+1,r=t.length;o<r;o++)t[o].top=t[o].top-a,t[o]._top=t[o]._top-a;this.setData({all_list:t})},calculatedAltitudeIncrease:function(t,e){for(var a=t[e].flows.length*this.data.sonHeight,o=e+1,r=t.length;o<r;o++)t[o].top=t[o].top+a,t[o]._top=t[o]._top+a;this.setData({all_list:t})}})},function(t,e,a){\"use strict\";(\"undefined\"!==typeof global?global:self).appXAppJson={app:{$homepage:\"page/start/index\"}}},function(t,e,a){\"use strict\";self.Map&&self.Set&&self.Symbol||importScripts(\"https://gw.alipayobjects.com/as/g/appx_release/deps/1.0.3/es6-set-map-symbol.js\"),importScripts(\"https://appx/af-appx.worker.min.js\"),AFAppX.registerApp&&AFAppX.registerApp({appJSON:appXAppJson})}]);","extractedComments":[]}